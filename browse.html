<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>readysounds. - music catalog</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='100' cy='100' r='95' fill='%231a1a1a' stroke='%239c27b0' stroke-width='4'/%3E%3Cpath d='M 40 100 Q 70 60 100 60 Q 130 60 160 100 Q 130 140 100 140 Q 70 140 40 100 Z' fill='%234a148c' stroke='%239c27b0' stroke-width='3'/%3E%3Ccircle cx='100' cy='100' r='25' fill='%239c27b0'/%3E%3Ccircle cx='100' cy='100' r='12' fill='%23ffffff'/%3E%3Ccircle cx='105' cy='95' r='4' fill='%23e0e0e0'/%3E%3Ccircle cx='100' cy='100' r='70' fill='none' stroke='%239c27b0' stroke-width='2' stroke-dasharray='8,8' opacity='0.4'/%3E%3Ccircle cx='100' cy='100' r='55' fill='none' stroke='%237b1fa2' stroke-width='1.5' stroke-dasharray='6,6' opacity='0.3'/%3E%3Cline x1='100' y1='20' x2='100' y2='50' stroke='%239c27b0' stroke-width='2' opacity='0.5'/%3E%3Cline x1='35' y1='65' x2='55' y2='75' stroke='%239c27b0' stroke-width='2' opacity='0.5'/%3E%3Cline x1='165' y1='65' x2='145' y2='75' stroke='%239c27b0' stroke-width='2' opacity='0.5'/%3E%3C/svg%3E">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #0a0a0a;
            color: #ffffff;
            min-height: 100vh;
        }
        
        /* Fixed Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(10, 10, 10, 0.98);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
            z-index: 1000;
            padding: 16px 0;
        }
        
        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 32px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 22px;
            font-weight: 600;
            color: white;
            text-transform: lowercase;
            text-decoration: none;
        }
        
        .header-nav {
            display: flex;
            gap: 8px;
            align-items: center;
            margin-left: 32px;
        }
        
        .nav-item {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
            padding: 8px 16px;
            border-radius: 8px;
            border: 1px solid transparent;
        }
        
        .nav-item:hover {
            color: #9c27b0;
            background: rgba(156, 39, 176, 0.1);
            border-color: rgba(156, 39, 176, 0.3);
        }
        
        .nav-item.active {
            color: white;
            background: rgba(156, 39, 176, 0.15);
            border-color: rgba(156, 39, 176, 0.5);
        }
        
        .nav-item-dropdown {
            position: relative;
        }
        
        .nav-item-dropdown .nav-item {
            cursor: pointer;
        }
        
        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            margin-top: 8px;
            background: #1a1a1a;
            border: 1px solid rgba(156, 39, 176, 0.3);
            border-radius: 8px;
            padding: 8px 0;
            min-width: 160px;
            display: none;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }
        
        .nav-item-dropdown:hover .dropdown-menu {
            display: block;
        }
        
        .dropdown-item {
            display: block;
            padding: 10px 16px;
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .dropdown-item:hover {
            background: rgba(156, 39, 176, 0.1);
            color: #9c27b0;
        }
        
        .cart-icon {
            position: relative;
            background: rgba(156, 39, 176, 0.1);
            border: 1px solid rgba(156, 39, 176, 0.3);
            padding: 8px 16px;
            border-radius: 8px;
            color: #9c27b0;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .cart-icon:hover {
            background: rgba(156, 39, 176, 0.2);
        }
        
        .cart-count {
            background: #9c27b0;
            color: white;
            border-radius: 10px;
            padding: 2px 6px;
            font-size: 11px;
            margin-left: 4px;
        }
        
        /* Auth Buttons */
        .auth-buttons {
            display: flex;
            gap: 8px;
            align-items: center;
            margin-left: 16px;
        }
        
        .auth-btn {
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.2s;
            border: 1px solid transparent;
        }
        
        .auth-btn-login {
            color: rgba(255, 255, 255, 0.7);
            background: transparent;
        }
        
        .auth-btn-login:hover {
            color: #9c27b0;
            background: rgba(156, 39, 176, 0.1);
            border-color: rgba(156, 39, 176, 0.3);
        }
        
        .auth-btn-signup {
            color: white;
            background: #9c27b0;
            border-color: #9c27b0;
        }
        
        .auth-btn-signup:hover {
            background: #7b1fa2;
            border-color: #7b1fa2;
        }
        
        /* Profile Dropdown */
        .profile-container {
            position: relative;
            display: none; /* Hidden by default, shown when logged in */
        }
        
        .profile-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #9c27b0, #4a148c);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .profile-icon:hover {
            border-color: rgba(156, 39, 176, 0.5);
            transform: scale(1.05);
        }
        
        .profile-dropdown {
            position: absolute;
            top: 50px;
            right: 0;
            background: #1a1a1a;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            min-width: 240px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);
            display: none;
            z-index: 1000;
            overflow: hidden;
        }
        
        .profile-dropdown.active {
            display: block;
        }
        
        .profile-dropdown-header {
            padding: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 14px;
            font-weight: 600;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .profile-dropdown-item {
            padding: 12px 16px;
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.2s;
            cursor: pointer;
            font-size: 15px;
        }
        
        .profile-dropdown-item:hover {
            background: rgba(156, 39, 176, 0.1);
        }
        
        .profile-dropdown-item svg,
        .profile-dropdown-item .icon {
            width: 20px;
            height: 20px;
            opacity: 0.7;
        }
        
        .profile-dropdown-divider {
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
            margin: 8px 0;
        }
        
        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.7);
            font-size: 18px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 8px;
            transition: all 0.2s;
            margin-right: 8px;
        }
        
        .mobile-menu-toggle:hover {
            color: white;
            border-color: rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.05);
        }

        /* ── Full-Screen Mobile Menu Panel ── */
        .mobile-panel-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 1998;
            backdrop-filter: blur(4px);
        }
        .mobile-panel-overlay.active {
            display: block;
        }
        .mobile-panel {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            height: 100%;
            background: #111111;
            z-index: 1999;
            transition: right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow-y: auto;
            padding: 24px 28px;
            display: flex;
            flex-direction: column;
        }
        .mobile-panel.open {
            right: 0;
        }
        .mobile-panel-header {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 36px;
        }
        .mobile-panel-close {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            font-size: 30px;
            cursor: pointer;
            padding: 4px 8px;
            line-height: 1;
            transition: color 0.2s;
        }
        .mobile-panel-close:hover {
            color: white;
        }
        .mobile-panel-nav {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        .mobile-panel-link {
            font-size: 30px;
            font-weight: 700;
            color: white;
            text-decoration: none;
            padding: 8px 0;
            letter-spacing: -0.5px;
            transition: color 0.2s;
        }
        .mobile-panel-link:hover,
        .mobile-panel-link.active {
            color: #9c27b0;
        }
        .mobile-panel-divider {
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
            margin: 24px 0;
        }
        .mobile-panel-expandable {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 0;
            font-size: 20px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.75);
            cursor: pointer;
            user-select: none;
            transition: color 0.2s;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
        }
        .mobile-panel-expandable:hover {
            color: white;
        }
        .mobile-panel-chevron {
            font-size: 16px;
            transition: transform 0.2s;
            opacity: 0.6;
        }
        .mobile-panel-expandable.open .mobile-panel-chevron {
            transform: rotate(180deg);
        }
        .mobile-panel-submenu {
            display: none;
            flex-direction: column;
            gap: 2px;
            padding-bottom: 8px;
        }
        .mobile-panel-submenu.open {
            display: flex;
        }
        .mobile-panel-sublink {
            font-size: 17px;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.5);
            text-decoration: none;
            padding: 10px 16px;
            border-radius: 8px;
            transition: all 0.2s;
        }
        .mobile-panel-sublink:hover {
            color: white;
            background: rgba(255, 255, 255, 0.06);
        }
        .mobile-panel-subscribe {
            display: block;
            text-align: center;
            background: #9c27b0;
            color: white;
            font-size: 18px;
            font-weight: 600;
            text-decoration: none;
            padding: 16px;
            border-radius: 12px;
            margin-top: 28px;
            transition: background 0.2s;
        }
        .mobile-panel-subscribe:hover {
            background: #7b1fa2;
        }
        .mobile-panel-auth-btns {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 16px;
        }
        .mobile-panel-auth-btn {
            display: block;
            text-align: center;
            padding: 14px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.2s;
        }
        .mobile-panel-auth-btn.login {
            color: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .mobile-panel-auth-btn.login:hover {
            border-color: rgba(156, 39, 176, 0.5);
            color: #9c27b0;
        }
        .mobile-panel-auth-btn.signup {
            color: white;
            background: #9c27b0;
            border: 1px solid #9c27b0;
        }
        .mobile-panel-auth-btn.signup:hover {
            background: #7b1fa2;
        }
        .mobile-panel-footer {
            margin-top: auto;
            padding-top: 32px;
        }
        .mobile-panel-footer-link {
            display: block;
            color: rgba(255, 255, 255, 0.35);
            text-decoration: none;
            font-size: 14px;
            padding: 8px 0;
            transition: color 0.2s;
        }
        .mobile-panel-footer-link:hover {
            color: rgba(255, 255, 255, 0.65);
        }
        
        /* Sidebar Title - Hidden on Desktop */
        .sidebar-title {
            display: none;
        }
        
        /* Mobile Filter Button & Modal */
        .mobile-filter-btn {
            display: none;
            position: fixed;
            bottom: 80px;
            right: 16px;
            background: #9c27b0;
            color: white;
            border: none;
            border-radius: 50%;
            width: 56px;
            height: 56px;
            font-size: 24px;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(156, 39, 176, 0.4);
            transition: all 0.2s;
        }
        
        .mobile-filter-btn:active {
            transform: scale(0.95);
        }
        
        .filter-modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
        }
        
        .filter-modal-overlay.visible {
            display: block;
            opacity: 1;
            pointer-events: all;
        }
        
        .filter-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #0a0a0a;
            z-index: 2001;
            overflow-y: auto;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }
        
        .filter-modal.open {
            display: block;
            transform: translateY(0);
        }
        
        .filter-modal-header {
            position: sticky;
            top: 0;
            background: #0a0a0a;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
            padding: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 10;
        }
        
        .filter-modal-title {
            font-size: 20px;
            font-weight: 600;
        }
        
        .filter-modal-close {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            font-size: 28px;
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .filter-modal-body {
            padding: 16px;
        }
        
        .filter-modal-footer {
            position: sticky;
            bottom: 0;
            background: #0a0a0a;
            border-top: 1px solid rgba(255, 255, 255, 0.08);
            padding: 16px;
            display: flex;
            gap: 12px;
        }
        
        .filter-apply-btn,
        .filter-clear-btn {
            flex: 1;
            padding: 14px;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .filter-apply-btn {
            background: #9c27b0;
            border: none;
            color: white;
        }
        
        .filter-apply-btn:active {
            background: #7b1fa2;
        }
        
        .filter-clear-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
        }
        
        .filter-clear-btn:active {
            background: rgba(255, 255, 255, 0.08);
        }
        
        /* Cart Modal */
        .cart-modal {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            max-width: 500px;
            height: 100vh;
            background: #0a0a0a;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 2000;
            transition: right 0.3s ease;
            display: flex;
            flex-direction: column;
            box-shadow: -4px 0 20px rgba(0, 0, 0, 0.5);
        }
        
        .cart-modal.open {
            right: 0;
        }
        
        /* Now Playing Bar */
        .now-playing-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(15, 15, 15, 0.98);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(156, 39, 176, 0.3);
            padding: 12px 24px;
            z-index: 999;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }
        
        .now-playing-bar.visible {
            transform: translateY(0);
        }
        
        .now-playing-content {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr auto 300px;
            gap: 24px;
            align-items: center;
        }
        
        .now-playing-track-info {
            display: flex;
            gap: 12px;
            align-items: center;
            min-width: 0;
        }
        
        .now-playing-artwork {
            width: 48px;
            height: 48px;
            border-radius: 6px;
            overflow: hidden;
            flex-shrink: 0;
            background: linear-gradient(135deg, #9c27b0, #4a148c);
        }
        
        .now-playing-artwork img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .now-playing-details {
            min-width: 0;
        }
        
        .now-playing-title {
            font-size: 14px;
            font-weight: 600;
            color: white;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .now-playing-artist {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.5);
        }
        
        .now-playing-controls {
            display: flex;
            gap: 8px;
            justify-content: center;
        }
        
        .now-playing-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #9c27b0;
            border: none;
            color: white;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }
        
        /* Prev/Next buttons slightly smaller */
        #nowPlayingPrevBtn,
        #nowPlayingNextBtn {
            width: 36px;
            height: 36px;
            font-size: 13px;
            background: rgba(156, 39, 176, 0.8);
        }
        
        #nowPlayingPrevBtn:hover,
        #nowPlayingNextBtn:hover {
            background: #9c27b0;
        }
        
        .now-playing-btn:hover {
            background: #7b1fa2;
            transform: scale(1.05);
        }
        
        .now-playing-progress-container {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .now-playing-time {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            min-width: 40px;
            text-align: center;
        }
        
        .now-playing-progress-bar {
            flex: 1;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            cursor: pointer;
            position: relative;
        }
        
        .now-playing-progress-fill {
            height: 100%;
            background: #9c27b0;
            border-radius: 2px;
            width: 0%;
            transition: width 0.1s linear;
        }

        /* ── Mobile Mini Player ── */
        .now-playing-mini {
            display: none;
            align-items: center;
            gap: 12px;
        }
        .mini-artwork {
            width: 52px;
            height: 52px;
            border-radius: 6px;
            overflow: hidden;
            flex-shrink: 0;
            background: linear-gradient(135deg, #9c27b0, #4a148c);
        }
        .mini-artwork img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .mini-info {
            flex: 1;
            min-width: 0;
        }
        .mini-title {
            font-size: 14px;
            font-weight: 600;
            color: white;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .mini-artist {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.5);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .mini-expand-btn {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.55);
            font-size: 20px;
            cursor: pointer;
            padding: 8px 6px;
            line-height: 1;
            flex-shrink: 0;
            transition: color 0.2s;
        }
        .mini-expand-btn:hover { color: white; }
        .mini-play-btn {
            width: 42px;
            height: 42px;
            border-radius: 50%;
            background: #9c27b0;
            border: none;
            color: white;
            font-size: 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: background 0.2s;
        }
        .mini-play-btn:hover { background: #7b1fa2; }

        /* ── Full Player Modal ── */
        .player-modal {
            position: fixed;
            inset: 0;
            background: #0d0d0d;
            z-index: 3500;
            transform: translateY(100%);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        .player-modal.open {
            transform: translateY(0);
        }
        .player-modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px 24px 4px;
            flex-shrink: 0;
        }
        .player-modal-close {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            font-size: 28px;
            cursor: pointer;
            padding: 4px 6px;
            line-height: 1;
            transition: color 0.2s;
        }
        .player-modal-close:hover { color: white; }
        .player-modal-label {
            font-size: 12px;
            font-weight: 700;
            letter-spacing: 2px;
            color: white;
            text-transform: uppercase;
        }
        .player-modal-more {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            font-size: 22px;
            cursor: pointer;
            padding: 4px 6px;
            line-height: 1;
            transition: color 0.2s;
            letter-spacing: 2px;
        }
        .player-modal-more:hover { color: white; }
        .player-modal-artwork-wrap {
            width: calc(100% - 48px);
            max-width: 340px;
            margin: 20px auto 0;
            aspect-ratio: 1;
            border-radius: 14px;
            overflow: hidden;
            background: linear-gradient(135deg, #9c27b0, #4a148c);
            box-shadow: 0 24px 64px rgba(0, 0, 0, 0.7);
            flex-shrink: 0;
        }
        .player-modal-artwork-wrap img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .player-modal-info {
            text-align: center;
            padding: 22px 24px 0;
            flex-shrink: 0;
        }
        .player-modal-title {
            font-size: 26px;
            font-weight: 700;
            color: white;
            letter-spacing: -0.5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .player-modal-artist {
            font-size: 17px;
            color: rgba(255, 255, 255, 0.45);
            margin-top: 4px;
        }
        /* Waveform progress area */
        .player-modal-waveform {
            margin: 22px 24px 0;
            flex-shrink: 0;
            cursor: pointer;
            position: relative;
        }
        .player-modal-waveform-bars {
            display: flex;
            align-items: flex-end;
            gap: 2px;
            height: 48px;
            width: 100%;
        }
        .player-modal-waveform-bar {
            flex: 1;
            background: rgba(255, 255, 255, 0.18);
            border-radius: 1px;
            min-height: 4px;
            transition: background 0.05s;
        }
        .player-modal-waveform-bar.played {
            background: rgba(255, 255, 255, 0.88);
        }
        .player-modal-times {
            display: flex;
            justify-content: space-between;
            padding: 6px 2px 0;
            flex-shrink: 0;
            margin: 0 24px;
        }
        .player-modal-time {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.38);
        }
        /* Controls */
        .player-modal-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 44px;
            padding: 24px 28px 40px;
            margin-top: auto;
            flex-shrink: 0;
        }
        .player-ctrl-btn {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.75);
            cursor: pointer;
            padding: 8px;
            transition: color 0.2s, transform 0.12s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .player-ctrl-btn:hover { color: white; }
        .player-ctrl-btn:active { transform: scale(0.87); }
        .player-ctrl-play {
            width: 72px;
            height: 72px;
            border-radius: 50%;
            background: white;
            border: none;
            color: #0d0d0d;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.15s, background 0.2s;
            flex-shrink: 0;
        }
        .player-ctrl-play:hover { background: #e8e8e8; }
        .player-ctrl-play:active { transform: scale(0.93); }

        /* Hide desktop now-playing content on mobile, show mini bar */
        @media (max-width: 768px) {
            .now-playing-content { display: none; }
            .now-playing-mini { display: flex; }
            .now-playing-bar { padding: 10px 14px; }
        }

        .cart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1999;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        .cart-overlay.visible {
            opacity: 1;
            pointer-events: all;
        }
        
        .cart-header {
            padding: 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .cart-title {
            font-size: 24px;
            font-weight: 600;
        }
        
        .close-cart {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            font-size: 28px;
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: color 0.2s;
        }
        
        .close-cart:hover {
            color: white;
        }
        
        .cart-content {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
        }
        
        .cart-empty {
            text-align: center;
            padding: 60px 20px;
            color: rgba(255, 255, 255, 0.5);
        }
        
        .cart-empty-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }
        
        .cart-item {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
        }
        
        .cart-item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }
        
        .cart-item-info {
            flex: 1;
        }
        
        .cart-item-title {
            font-size: 15px;
            font-weight: 600;
            color: white;
            margin-bottom: 4px;
        }
        
        .cart-item-artist {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.6);
        }
        
        .cart-item-remove {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.4);
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            transition: all 0.2s;
        }
        
        .cart-item-remove:hover {
            background: rgba(255, 68, 68, 0.1);
            color: #ff4444;
        }
        
        .cart-item-license {
            margin-top: 12px;
        }
        
        .license-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.5);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .license-options {
            display: flex;
            gap: 8px;
        }
        
        .remove-item {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.4);
            cursor: pointer;
            font-size: 20px;
            padding: 4px;
            transition: color 0.2s;
        }
        
        .remove-item:hover {
            color: #ff4444;
        }
        
        .license-selector {
            display: flex;
            gap: 12px;
        }
        
        .license-option {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }
        
        .license-option:hover {
            background: rgba(255, 255, 255, 0.08);
        }
        
        .license-option.selected {
            background: rgba(156, 39, 176, 0.2);
            border-color: #9c27b0;
        }
        
        .license-name {
            font-size: 13px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 4px;
        }
        
        .license-price {
            font-size: 18px;
            font-weight: 700;
            color: #9c27b0;
        }
        
        .cart-footer {
            padding: 24px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(0, 0, 0, 0.5);
        }
        
        .cart-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            font-size: 20px;
            font-weight: 600;
        }
        
        .cart-total-amount {
            color: #9c27b0;
            font-size: 28px;
        }
        
        .checkout-btn {
            width: 100%;
            background: #9c27b0;
            color: white;
            border: none;
            padding: 16px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .checkout-btn:hover {
            background: #7b1fa2;
            transform: scale(1.02);
        }
        
        .checkout-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        /* Main Content */
        .main {
            margin-top: 64px;
            padding: 40px 0;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 32px;
            display: flex;
            gap: 32px;
        }
        
        /* Sidebar Filters */
        .sidebar {
            width: 220px;
            flex-shrink: 0;
        }
        
        .sidebar-sticky {
            position: sticky;
            top: 88px;
        }
        
        .filter-panel {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 20px;
        }
        
        .filter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }
        
        .filter-title {
            font-size: 18px;
            font-weight: 600;
            color: white;
        }
        
        .clear-filters {
            font-size: 13px;
            color: #9c27b0;
            background: none;
            border: none;
            cursor: pointer;
            padding: 4px 8px;
            transition: opacity 0.2s;
        }
        
        .clear-filters:hover {
            opacity: 0.7;
        }
        
        .filter-section {
            margin-bottom: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
            padding-bottom: 16px;
        }
        
        .filter-section:last-child {
            margin-bottom: 0;
            border-bottom: none;
            padding-bottom: 0;
        }
        
        .filter-section-title {
            font-size: 14px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            user-select: none;
            padding: 8px 0;
            transition: color 0.2s;
        }
        
        .filter-section-title:hover {
            color: #9c27b0;
        }
        
        .filter-section-arrow {
            font-size: 12px;
            transition: transform 0.2s;
            color: rgba(255, 255, 255, 0.5);
        }
        
        .filter-section.collapsed .filter-section-arrow {
            transform: rotate(-90deg);
        }
        
        .filter-options {
            max-height: 500px;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .filter-section.collapsed .filter-options {
            max-height: 0;
        }
        
        .filter-option {
            display: flex;
            align-items: center;
            padding: 8px 0;
            cursor: pointer;
            transition: opacity 0.2s;
        }
        
        .filter-option:hover {
            opacity: 0.8;
        }
        
        .filter-checkbox {
            width: 18px;
            height: 18px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 4px;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            flex-shrink: 0;
        }
        
        .filter-checkbox.checked {
            background: #9c27b0;
            border-color: #9c27b0;
        }
        
        .filter-checkbox.checked::after {
            content: "✓";
            color: white;
            font-size: 12px;
            font-weight: bold;
        }
        
        .filter-label {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
            user-select: none;
        }
        
        /* Main Content Area */
        .main-content {
            flex: 1;
            min-width: 0;
        }
        
        /* Search Section */
        .search-section {
            margin-bottom: 40px;
            display: flex;
            justify-content: center;
        }
        
        .search-box {
            max-width: 600px;
            width: 100%;
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: 14px 20px;
            padding-left: 44px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: white;
            font-size: 15px;
            outline: none;
            transition: all 0.2s;
        }
        
        .search-input:focus {
            border-color: #9c27b0;
            background: rgba(255, 255, 255, 0.08);
        }
        
        .search-icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.4);
            font-size: 16px;
        }
        
        /* Filters */
        .filters {
            display: flex;
            gap: 12px;
            margin-bottom: 32px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            text-transform: lowercase;
        }
        
        .filter-btn:hover,
        .filter-btn.active {
            background: #9c27b0;
            border-color: #9c27b0;
            color: white;
        }
        
        /* Track List */
        .track-list-header {
            display: grid;
            grid-template-columns: 50px 60px minmax(250px, 2fr) 20px 200px 120px 70px 70px 170px;
            gap: 16px;
            padding: 12px 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
            font-size: 12px;
            color: rgba(255, 255, 255, 0.4);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .track-group {
            border-bottom: 1px solid rgba(255, 255, 255, 0.04);
        }
        
        .track-item {
            display: grid;
            grid-template-columns: 50px 60px minmax(200px, 2fr) 20px 180px 100px 60px 60px 200px;
            gap: 12px;
            padding: 16px;
            align-items: center;
            transition: all 0.2s;
            cursor: pointer;
        }
        
        .track-item:hover {
            background: rgba(255, 255, 255, 0.02);
        }
        
        .track-item.main-track {
            position: relative;
        }
        
        .track-play {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .track-play:hover {
            background: #9c27b0;
            border-color: #9c27b0;
            transform: scale(1.05);
        }
        
        .track-artwork {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #9c27b0, #4a148c);
            background-size: cover;
            background-position: center;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            position: relative;
            overflow: hidden;
        }
        
        .track-artwork img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .track-info {
            min-width: 250px;
        }
        
        .track-title {
            font-size: 14px;
            font-weight: 500;
            color: white;
            line-height: 1.3;
        }
        
        .track-genre {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            min-width: 0;
        }
        
        .track-bpm {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            text-align: center;
        }
        
        .track-duration {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            text-align: center;
        }
        
        .track-actions {
            display: flex;
            gap: 6px;
            justify-content: flex-end;
            align-items: center;
            flex-shrink: 0;
        }
        
        .action-btn {
            background: rgba(156, 39, 176, 0.15);
            border: 1px solid rgba(156, 39, 176, 0.5);
            color: #bb86fc;
            padding: 8px 14px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
            text-transform: lowercase;
        }
        
        .action-btn:hover {
            background: #9c27b0;
            border-color: #9c27b0;
            color: white;
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(156, 39, 176, 0.3);
        }
        
        .action-btn-primary {
            background: #9c27b0;
            border-color: #9c27b0;
            color: white;
        }
        
        .action-btn-primary:hover {
            background: #7b1fa2;
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(156, 39, 176, 0.4);
        }
        
        .action-btn-playlist {
            background: rgba(156, 39, 176, 0.15);
            border: 1px solid rgba(156, 39, 176, 0.5);
            color: rgba(255, 255, 255, 0.7);
            font-size: 20px;
            padding: 8px 12px;
            position: relative;
        }
        
        .action-btn-playlist:hover {
            border-color: #9c27b0;
            color: #9c27b0;
            background: rgba(156, 39, 176, 0.25);
            transform: translateY(-1px);
        }
        
        .action-btn-playlist.in-playlist {
            color: #9c27b0;
            border-color: #9c27b0;
            background: rgba(156, 39, 176, 0.25);
        }
        
        .action-btn-download {
            background: rgba(156, 39, 176, 0.15);
            border: 1px solid rgba(156, 39, 176, 0.5);
            color: rgba(255, 255, 255, 0.7);
            font-size: 15px;
            padding: 8px 12px;
            font-weight: 600;
        }
        
        .action-btn-download:hover {
            border-color: #9c27b0;
            color: #bb86fc;
            background: rgba(156, 39, 176, 0.25);
            transform: translateY(-1px);
        }
        
        .action-btn-like {
            background: rgba(156, 39, 176, 0.15);
            border: 1px solid rgba(156, 39, 176, 0.5);
            color: rgba(255, 255, 255, 0.7);
            font-size: 17px;
            padding: 8px 12px;
        }
        
        .action-btn-like:hover {
            border-color: #9c27b0;
            color: #9c27b0;
            background: rgba(156, 39, 176, 0.25);
            transform: translateY(-1px);
        }
        
        .action-btn-like.liked {
            color: #9c27b0;
            border-color: #9c27b0;
            background: rgba(156, 39, 176, 0.25);
        }
        
        /* Playlist Menu */
        .playlist-menu {
            position: absolute;
            bottom: 50px;
            right: 0;
            background: #1a1a1a;
            border: 1px solid rgba(156, 39, 176, 0.3);
            border-radius: 8px;
            padding: 8px 0;
            min-width: 200px;
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }
        
        .playlist-menu.open {
            display: block;
        }
        
        .playlist-menu-item {
            padding: 10px 16px;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .playlist-menu-item:hover {
            background: rgba(156, 39, 176, 0.1);
            color: white;
        }
        
        .playlist-menu-item.create-new {
            color: #9c27b0;
            font-weight: 600;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        }
        
        .playlist-menu-item.in-playlist {
            color: #9c27b0;
        }
        
        .playlist-menu-item.in-playlist::before {
            content: "✓";
            font-weight: bold;
        }
        
        /* Alternate Versions */
        .alternates-container {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            background: rgba(255, 255, 255, 0.01);
        }
        
        .alternates-container.expanded {
            max-height: 1000px;
            transition: max-height 0.5s ease-in;
        }
        
        .track-item.alternate {
            background: rgba(156, 39, 176, 0.03);
            padding-left: 40px;
        }
        
        .track-item.alternate:hover {
            background: rgba(156, 39, 176, 0.06);
        }
        
        .track-item.alternate .track-title {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.9);
        }
        
        .versions-badge {
            display: inline-block;
            background: rgba(156, 39, 176, 0.2);
            border: 1px solid rgba(156, 39, 176, 0.4);
            color: #9c27b0;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            margin-left: 8px;
            text-transform: lowercase;
        }
        
        /* Waveform */
        .waveform-container {
            width: 160px;
            height: 40px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 4px;
            position: relative;
            cursor: pointer;
            overflow: hidden;
        }
        
        .expand-arrow {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.6);
            transition: transform 0.2s;
            cursor: pointer;
        }
        
        .track-item.main-track.has-alternates.expanded .expand-arrow {
            transform: rotate(180deg);
        }
        
        .waveform {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: space-around;
            padding: 4px;
            gap: 1px;
        }
        
        .waveform-bar {
            flex: 1;
            background: rgba(156, 39, 176, 0.4);
            border-radius: 2px;
            transition: all 0.1s;
            min-width: 2px;
        }
        
        .waveform-container:hover .waveform-bar {
            background: rgba(156, 39, 176, 0.6);
        }
        
        .waveform-progress {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: rgba(156, 39, 176, 0.15);
            pointer-events: none;
            transition: width 0.1s linear;
        }
        
        .waveform-played .waveform-bar {
            background: #9c27b0;
        }
        
        /* Cart Modal */
        .cart-modal {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            max-width: 500px;
            height: 100vh;
            background: #0a0a0a;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 2000;
            transition: right 0.3s ease;
            display: flex;
            flex-direction: column;
            box-shadow: -4px 0 20px rgba(0, 0, 0, 0.5);
        }
        
        .cart-modal.open {
            right: 0;
        }
        
        .cart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1999;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        .cart-overlay.open {
            opacity: 1;
            pointer-events: all;
        }
        
        .cart-header {
            padding: 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .cart-title {
            font-size: 24px;
            font-weight: 600;
        }
        
        .cart-close {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            font-size: 28px;
            cursor: pointer;
            padding: 4px;
            line-height: 1;
            transition: color 0.2s;
        }
        
        .cart-close:hover {
            color: white;
        }
        
        .cart-body {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
        }
        
        .cart-empty {
            text-align: center;
            padding: 60px 20px;
            color: rgba(255, 255, 255, 0.5);
        }
        
        .cart-empty-icon {
            font-size: 64px;
            margin-bottom: 16px;
            opacity: 0.3;
        }
        
        .cart-item {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        .cart-item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }
        
        .cart-item-info {
            flex: 1;
        }
        
        .cart-item-title {
            font-size: 16px;
            font-weight: 600;
            color: white;
            margin-bottom: 4px;
        }
        
        .cart-item-artist {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.5);
        }
        
        .cart-item-remove {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.4);
            cursor: pointer;
            padding: 4px;
            font-size: 18px;
            transition: color 0.2s;
        }
        
        .cart-item-remove:hover {
            color: #ff4444;
        }
        
        .cart-item-license {
            margin-top: 12px;
        }
        
        .license-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .license-options {
            display: flex;
            gap: 8px;
        }
        
        .license-btn {
            flex: 1;
            padding: 10px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }
        
        .license-btn:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(156, 39, 176, 0.3);
        }
        
        .license-btn.active {
            background: rgba(156, 39, 176, 0.2);
            border-color: #9c27b0;
            color: #9c27b0;
        }
        
        .license-price {
            display: block;
            font-size: 16px;
            font-weight: 600;
            margin-top: 4px;
        }
        
        .cart-footer {
            padding: 24px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(0, 0, 0, 0.3);
        }
        
        .cart-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            font-size: 18px;
        }
        
        .cart-total-label {
            color: rgba(255, 255, 255, 0.7);
        }
        
        .cart-total-amount {
            font-size: 24px;
            font-weight: 700;
            color: #9c27b0;
        }
        
        .cart-checkout-btn {
            width: 100%;
            padding: 16px;
            background: #9c27b0;
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .cart-checkout-btn:hover {
            background: #7b1fa2;
            transform: scale(1.02);
        }
        
        .cart-checkout-btn:disabled {
            background: rgba(156, 39, 176, 0.3);
            cursor: not-allowed;
            transform: none;
        }
        
        /* Download Prompt Modal */
        .download-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(8px);
            z-index: 3000;
            display: none;
        }
        
        .download-overlay.visible {
            display: block;
        }
        
        .download-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            background: #1a1a1a;
            border-radius: 16px;
            border: 1px solid rgba(156, 39, 176, 0.3);
            padding: 48px 40px;
            max-width: 540px;
            width: 90%;
            z-index: 3001;
            opacity: 0;
            transition: all 0.3s ease;
            display: none;
        }
        
        .download-modal.visible {
            display: block;
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }
        
        .download-close {
            position: absolute;
            top: 16px;
            right: 16px;
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.5);
            font-size: 32px;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            transition: all 0.2s;
        }
        
        .download-close:hover {
            background: rgba(255, 255, 255, 0.05);
            color: white;
        }
        
        .download-content {
            text-align: center;
        }
        
        .download-title {
            font-size: 32px;
            font-weight: 700;
            color: white;
            margin-bottom: 16px;
            line-height: 1.2;
        }
        
        .download-subtitle {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 32px;
            line-height: 1.5;
        }
        
        .download-actions {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .download-btn-primary {
            flex: 1;
            background: #9c27b0;
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
        }
        
        .download-btn-primary:hover {
            background: #7b1fa2;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(156, 39, 176, 0.4);
        }
        
        .download-btn-secondary {
            flex: 1;
            background: transparent;
            color: #9c27b0;
            border: 2px solid #9c27b0;
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
        }
        
        .download-btn-secondary:hover {
            background: rgba(156, 39, 176, 0.1);
            transform: translateY(-2px);
        }
        
        .download-info {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.5);
            margin-top: 16px;
        }
        
        /* Download Options Modal Styles */
        .download-options-list {
            text-align: left;
            max-height: 500px;
            overflow-y: auto;
        }
        
        .download-section {
            margin-bottom: 20px;
        }
        
        .download-option-btn {
            width: 100%;
            background: #9c27b0;
            color: white;
            border: none;
            padding: 14px 20px;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 8px;
            text-align: left;
        }
        
        .download-option-btn:hover {
            background: #7b1fa2;
            transform: translateX(2px);
        }
        
        .download-option-btn-small {
            background: rgba(156, 39, 176, 0.2);
            color: white;
            border: 1px solid rgba(156, 39, 176, 0.4);
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            margin-right: 8px;
        }
        
        .download-option-btn-small:hover {
            background: rgba(156, 39, 176, 0.4);
            border-color: rgba(156, 39, 176, 0.6);
        }
        
        /* DISABLED: /* Tablet Layout */
        /* DISABLED: /* Tablet Layout - Small screens only */
        /* DISABLED: @media (max-width: 600px) {
        /* DISABLED: .header-content {
        /* DISABLED: padding: 0 20px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .container {
        /* DISABLED: flex-direction: column;
        /* DISABLED: padding: 0 20px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .sidebar {
        /* DISABLED: width: 100%;
        /* DISABLED: margin-bottom: 20px;
        /* DISABLED: padding: 16px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .sidebar-sticky {
        /* DISABLED: position: static;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .track-list-header,
        /* DISABLED: .track-item {
        /* DISABLED: grid-template-columns: 40px 50px 1fr 80px 60px 60px 120px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .waveform-container {
        /* DISABLED: display: none;
        /* DISABLED: }
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: /* Mobile Layout - Very small phones only (iPhone SE and smaller) */
        /* DISABLED: @media (max-width: 375px) {
        /* DISABLED: body {
        /* DISABLED: font-size: 14px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .header {
        /* DISABLED: padding: 12px 0;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .header-content {
        /* DISABLED: padding: 0 16px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .logo {
        /* DISABLED: font-size: 18px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .header-nav {
        /* DISABLED: gap: 4px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .nav-item {
        /* DISABLED: padding: 6px 12px;
        /* DISABLED: font-size: 13px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .nav-item:not(.active):not(.cart-icon) {
        /* DISABLED: display: none;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: /* Hide auth buttons on small screens */
        /* DISABLED: .auth-buttons {
        /* DISABLED: display: none;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: /* Mobile Menu */
        /* DISABLED: .mobile-menu-toggle {
        /* DISABLED: display: block;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .header-nav.mobile-open {
        /* DISABLED: position: fixed;
        /* DISABLED: top: 54px;
        /* DISABLED: left: 0;
        /* DISABLED: right: 0;
        /* DISABLED: background: #0a0a0a;
        /* DISABLED: flex-direction: column;
        /* DISABLED: padding: 16px;
        /* DISABLED: border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        /* DISABLED: gap: 0;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .header-nav.mobile-open .nav-item:not(.cart-icon) {
        /* DISABLED: display: block;
        /* DISABLED: width: 100%;
        /* DISABLED: text-align: left;
        /* DISABLED: padding: 14px 16px;
        /* DISABLED: border-radius: 8px;
        /* DISABLED: margin-bottom: 4px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .header-nav.mobile-open .cart-icon {
        /* DISABLED: width: 100%;
        /* DISABLED: text-align: left;
        /* DISABLED: padding: 14px 16px;
        /* DISABLED: border-radius: 8px;
        /* DISABLED: margin-top: 8px;
        /* DISABLED: margin-bottom: 4px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: /* Show auth buttons in mobile menu */
        /* DISABLED: .header-nav.mobile-open .auth-buttons {
        /* DISABLED: display: flex;
        /* DISABLED: flex-direction: column;
        /* DISABLED: width: 100%;
        /* DISABLED: margin-left: 0;
        /* DISABLED: margin-top: 8px;
        /* DISABLED: gap: 8px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .header-nav.mobile-open .auth-btn {
        /* DISABLED: width: 100%;
        /* DISABLED: text-align: left;
        /* DISABLED: padding: 14px 16px;
        /* DISABLED: border-radius: 8px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: /* Mobile dropdown styling */
        /* DISABLED: .header-nav.mobile-open .nav-item-dropdown {
        /* DISABLED: width: 100%;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .header-nav.mobile-open .dropdown-menu {
        /* DISABLED: position: static;
        /* DISABLED: display: block;
        /* DISABLED: margin: 0;
        /* DISABLED: padding: 8px 0 8px 32px;
        /* DISABLED: background: transparent;
        /* DISABLED: border: none;
        /* DISABLED: box-shadow: none;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .header-nav.mobile-open .dropdown-item {
        /* DISABLED: padding: 10px 16px;
        /* DISABLED: text-align: left;
        /* DISABLED: }
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .cart-icon {
        /* DISABLED: padding: 6px 12px;
        /* DISABLED: font-size: 12px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .main {
        /* DISABLED: margin-top: 54px;
        /* DISABLED: padding: 20px 0 100px 0;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .container {
        /* DISABLED: padding: 0 16px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: /* Search bar improvements */
        /* DISABLED: .search-container {
        /* DISABLED: margin-bottom: 20px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .search-input {
        /* DISABLED: padding: 14px 20px 14px 44px;
        /* DISABLED: font-size: 15px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: /* Collapsible Sidebar on Mobile */
        /* DISABLED: .sidebar {
        /* DISABLED: display: none;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: /* Show mobile filter button */
        /* DISABLED: .mobile-filter-btn {
        /* DISABLED: display: block;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: /* Filter modal remains hidden until opened */
        /* DISABLED: /* Removed display: block that was blocking clicks */
        /* DISABLED:         /* DISABLED: .filter-section {
        /* DISABLED: margin-bottom: 16px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .filter-header {
        /* DISABLED: padding: 10px 0;
        /* DISABLED: font-size: 13px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .filter-group label {
        /* DISABLED: padding: 8px 0;
        /* DISABLED: font-size: 13px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .clear-filters {
        /* DISABLED: padding: 10px 16px;
        /* DISABLED: font-size: 13px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: /* Mobile Track List - Minimal clean layout */
        /* DISABLED: .track-list-header {
        /* DISABLED: display: none;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .track-group {
        /* DISABLED: margin-bottom: 16px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .track-item {
        /* DISABLED: display: grid;
        /* DISABLED: grid-template-columns: 70px 1fr 40px;
        /* DISABLED: gap: 12px;
        /* DISABLED: padding: 14px;
        /* DISABLED: min-height: auto;
        /* DISABLED: background: rgba(255, 255, 255, 0.05);
        /* DISABLED: border-radius: 12px;
        /* DISABLED: border: 1px solid rgba(255, 255, 255, 0.08);
        /* DISABLED: position: relative;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .track-item.main-track {
        /* DISABLED: background: rgba(255, 255, 255, 0.05);
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .track-item.alternate {
        /* DISABLED: grid-template-columns: 56px 1fr;
        /* DISABLED: padding: 12px;
        /* DISABLED: margin: 8px 0 0 0;
        /* DISABLED: background: rgba(255, 255, 255, 0.03);
        /* DISABLED: border-radius: 8px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .track-play {
        /* DISABLED: display: none !important;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .track-artwork {
        /* DISABLED: width: 70px;
        /* DISABLED: height: 70px;
        /* DISABLED: font-size: 28px;
        /* DISABLED: border-radius: 8px;
        /* DISABLED: position: relative;
        /* DISABLED: flex-shrink: 0;
        /* DISABLED: cursor: pointer;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .track-item.alternate .track-artwork {
        /* DISABLED: width: 56px;
        /* DISABLED: height: 56px;
        /* DISABLED: font-size: 22px;
        /* DISABLED: cursor: pointer;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .track-info {
        /* DISABLED: min-width: 0;
        /* DISABLED: display: flex;
        /* DISABLED: flex-direction: column;
        /* DISABLED: justify-content: center;
        /* DISABLED: gap: 6px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .track-title {
        /* DISABLED: font-size: 15px;
        /* DISABLED: line-height: 1.3;
        /* DISABLED: margin-bottom: 0;
        /* DISABLED: font-weight: 600;
        /* DISABLED: color: white;
        /* DISABLED: display: -webkit-box;
        /* DISABLED: -webkit-line-clamp: 2;
        /* DISABLED: -webkit-box-orient: vertical;
        /* DISABLED: overflow: hidden;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .track-item.alternate .track-title {
        /* DISABLED: font-size: 14px;
        /* DISABLED: -webkit-line-clamp: 1;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .track-artist {
        /* DISABLED: font-size: 12px;
        /* DISABLED: color: rgba(255, 255, 255, 0.5);
        /* DISABLED: display: none;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .versions-badge {
        /* DISABLED: display: none;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .expand-arrow {
        /* DISABLED: display: flex;
        /* DISABLED: align-items: center;
        /* DISABLED: justify-content: center;
        /* DISABLED: width: 40px;
        /* DISABLED: height: 40px;
        /* DISABLED: color: rgba(255, 255, 255, 0.5);
        /* DISABLED: font-size: 18px;
        /* DISABLED: border-radius: 8px;
        /* DISABLED: transition: all 0.2s;
        /* DISABLED: background: transparent;
        /* DISABLED: border: none;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .track-item.alternate .expand-arrow {
        /* DISABLED: display: none;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .track-item.main-track.expanded .expand-arrow {
        /* DISABLED: transform: rotate(180deg);
        /* DISABLED: color: rgba(156, 39, 176, 0.8);
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .waveform-container {
        /* DISABLED: display: none !important;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .track-genre,
        /* DISABLED: .track-bpm,
        /* DISABLED: .track-duration {
        /* DISABLED: display: none;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: /* Hide ALL action buttons on mobile */
        /* DISABLED: .track-actions {
        /* DISABLED: display: none !important;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: /* Alternates on Mobile */
        /* DISABLED: .alternates-container {
        /* DISABLED: padding: 0;
        /* DISABLED: margin-top: 12px;
        /* DISABLED: display: flex;
        /* DISABLED: flex-direction: column;
        /* DISABLED: gap: 8px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .alternates-container .track-item {
        /* DISABLED: margin-bottom: 0;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: /* Cart Modal Mobile */
        /* DISABLED: .cart-modal {
        /* DISABLED: max-width: 100%;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .cart-header {
        /* DISABLED: padding: 16px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .cart-title {
        /* DISABLED: font-size: 20px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .cart-body {
        /* DISABLED: padding: 16px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .cart-item {
        /* DISABLED: padding: 14px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .cart-item-title {
        /* DISABLED: font-size: 15px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .license-options {
        /* DISABLED: flex-direction: column;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .license-btn {
        /* DISABLED: padding: 12px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .cart-footer {
        /* DISABLED: padding: 16px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .cart-total {
        /* DISABLED: font-size: 16px;
        /* DISABLED: margin-bottom: 12px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .cart-total-amount {
        /* DISABLED: font-size: 20px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .cart-checkout-btn {
        /* DISABLED: padding: 14px;
        /* DISABLED: font-size: 15px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: /* Now Playing Bar Mobile */
        /* DISABLED: .now-playing-bar {
        /* DISABLED: padding: 12px 16px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .now-playing-content {
        /* DISABLED: grid-template-columns: 1fr auto;
        /* DISABLED: gap: 12px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .now-playing-progress-container {
        /* DISABLED: display: none;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .now-playing-artwork {
        /* DISABLED: width: 48px;
        /* DISABLED: height: 48px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .now-playing-title {
        /* DISABLED: font-size: 14px;
        /* DISABLED: font-weight: 600;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .now-playing-artist {
        /* DISABLED: font-size: 12px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .now-playing-btn {
        /* DISABLED: width: 44px;
        /* DISABLED: height: 44px;
        /* DISABLED: font-size: 14px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: /* Download Modal Mobile */
        /* DISABLED: .download-modal {
        /* DISABLED: width: 95%;
        /* DISABLED: max-width: 400px;
        /* DISABLED: padding: 32px 24px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .download-title {
        /* DISABLED: font-size: 26px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .download-subtitle {
        /* DISABLED: font-size: 15px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .download-actions {
        /* DISABLED: flex-direction: column;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .download-btn-primary,
        /* DISABLED: .download-btn-secondary {
        /* DISABLED: width: 100%;
        /* DISABLED: }
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: /* Small Mobile (iPhone SE, etc) */
        /* DISABLED: @media (max-width: 375px) {
        /* DISABLED: .logo {
        /* DISABLED: font-size: 16px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .track-item {
        /* DISABLED: grid-template-columns: 40px 50px 1fr 80px;
        /* DISABLED: gap: 8px;
        /* DISABLED: padding: 10px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .track-play {
        /* DISABLED: width: 40px;
        /* DISABLED: height: 40px;
        /* DISABLED: font-size: 14px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .track-artwork {
        /* DISABLED: width: 50px;
        /* DISABLED: height: 50px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .track-title {
        /* DISABLED: font-size: 13px;
        /* DISABLED: }
        /* DISABLED:         /* DISABLED: .action-btn {
        /* DISABLED: padding: 7px 10px;
        /* DISABLED: font-size: 11px;
        /* DISABLED: min-width: 65px;
        /* DISABLED: }
        /* DISABLED: }
        
        /* ========================================
           MOBILE LAYOUT - Phones Only (480px and below)
           ======================================== */
        
        /* ========================================
           MOBILE LAYOUT - Phones Only (480px and below)
           ======================================== */
        /* Tablet and small desktop - show hamburger to save space */
        @media (max-width: 900px) {
            /* Hide most nav items, show hamburger */
            .nav-item:not(.active):not(.mobile-menu-toggle) {
                display: none;
            }
            
            .mobile-menu-toggle {
                display: block;
            }
            
            /* Keep auth buttons visible on tablet */
            .auth-buttons {
                display: flex;
            }
            
            /* Mobile menu now handled by full-screen panel */
        }

        @media (max-width: 480px) {
            /* Header */
            .header {
                padding: 12px 0;
            }
            
            .header-content {
                padding: 0 16px;
            }
            
            .logo {
                font-size: 18px;
            }
            
            /* Hide desktop nav, show hamburger */
            .nav-item:not(.active):not(.mobile-menu-toggle) {
                display: none;
            }
            
            .mobile-menu-toggle {
                display: block;
            }
            
            .auth-buttons {
                display: none;
            }
            
            /* Mobile menu now handled by full-screen panel */
            
            /* Main content */
            .main {
                margin-top: 54px;
                padding: 16px 0 100px 0;
            }
            
            .container {
                padding: 0 16px;
                flex-direction: column;
            }
            
            .sidebar {
                display: none;
            }
            
            .track-list-header {
                display: none;
            }
            
            .track-group {
                margin-bottom: 10px;
            }
            
            /* Much tighter card layout - minimal height with arrow inline */
            .track-item {
                display: grid;
                grid-template-columns: 44px 1fr 24px;
                gap: 8px;
                padding: 6px;
                background: rgba(255, 255, 255, 0.05);
                border-radius: 8px;
                border: 1px solid rgba(255, 255, 255, 0.08);
                margin-bottom: 6px;
                align-items: center;
            }
            
            .track-item:hover {
                background: rgba(255, 255, 255, 0.05);
            }
            
            .track-item.alternate {
                grid-template-columns: 38px 1fr;
                padding: 5px;
                margin: 5px 0 0 0;
                background: rgba(255, 255, 255, 0.03);
            }
            
            /* Play button overlays artwork on mobile */
            .track-play {
                grid-column: 1;
                grid-row: 1;
                display: flex;
                width: 24px;
                height: 24px;
                background: rgba(0, 0, 0, 0.85);
                border: 2px solid rgba(255, 255, 255, 0.95);
                border-radius: 50%;
                align-items: center;
                justify-content: center;
                font-size: 11px;
                color: white;
                z-index: 10;
                backdrop-filter: blur(4px);
                align-self: center;
                justify-self: center;
            }
            
            .track-artwork {
                grid-column: 1;
                grid-row: 1;
                width: 44px;
                height: 44px;
                position: relative;
            }
            
            .track-item.alternate .track-artwork {
                width: 38px;
                height: 38px;
            }
            
            .track-item.alternate .track-play {
                width: 20px;
                height: 20px;
                font-size: 10px;
            }
            
            /* Track info - takes middle column */
            .track-info {
                grid-column: 2;
                display: flex;
                flex-direction: row;
                align-items: center;
                min-width: 0;
            }
            
            .track-title {
                font-size: 12px;
                font-weight: 600;
                line-height: 1.2;
                flex: 1;
                min-width: 0;
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
            }
            
            .versions-badge {
                display: none;
            }
            
            /* Arrow in third column - compact */
            .expand-arrow {
                grid-column: 3;
                display: flex;
                width: 24px;
                height: 24px;
                align-items: center;
                justify-content: center;
                color: rgba(255, 255, 255, 0.7);
                font-size: 14px;
                background: rgba(255, 255, 255, 0.08);
                border-radius: 5px;
                flex-shrink: 0;
                transition: all 0.2s;
            }
            
            .track-item.main-track.expanded .expand-arrow {
                transform: rotate(180deg);
                background: rgba(156, 39, 176, 0.2);
                color: #9c27b0;
            }
            
            .track-item.alternate .expand-arrow {
                display: none;
            }
            
            /* Hide desktop columns */
            .waveform-container,
            .track-genre,
            .track-bpm,
            .track-duration,
            .track-actions {
                display: none;
            }
            
            .alternates-container {
                padding: 0;
                margin-top: 6px;
            }
            
            /* Mobile modals */
            .cart-modal {
                max-width: 100%;
            }
            
            .download-modal {
                width: 95%;
                max-width: 400px;
                padding: 28px 20px;
            }
            
            .download-actions {
                flex-direction: column;
            }
            
            .now-playing-bar {
                padding: 10px 16px;
            }
            
            .now-playing-artwork {
                width: 44px;
                height: 44px;
            }
        }
    </style>
    <script src="https://js.stripe.com/v3/"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="logo">readysounds.</a>
            <nav class="header-nav" id="headerNav">
                <button class="mobile-menu-toggle" id="mobileMenuToggle" onclick="toggleMobileMenu()">☰</button>
                <a href="index.html" class="nav-item">Home</a>
                <a href="browse.html" class="nav-item active">Browse</a>
                <a href="playlists.html" class="nav-item">Playlists</a>
                <a href="pricing.html" class="nav-item">Pricing</a>
                <a href="terms.html" class="nav-item">Terms & Conditions</a>
                <div class="cart-icon" id="cartBtn">Cart (0)</div>
                <div class="auth-buttons" id="authButtons">
                    <a href="signup.html" class="auth-btn auth-btn-login" id="loginBtn">Log In</a>
                    <a href="signup.html" class="auth-btn auth-btn-signup" id="signupBtn">Create Free Account</a>
                </div>
                
                <!-- Profile Dropdown (shown when logged in) -->
                <div class="profile-container" id="profileContainer">
                    <div class="profile-icon" id="profileIcon" onclick="toggleProfileDropdown()">
                        <span id="profileInitial">U</span>
                    </div>
                    <div class="profile-dropdown" id="profileDropdown">
                        <div class="profile-dropdown-header">My Media</div>
                        <a href="favorites.html" class="profile-dropdown-item">
                            <span class="icon">❤️</span>
                            <span>Favorites</span>
                        </a>
                        <a href="my-playlists.html" class="profile-dropdown-item">
                            <span class="icon">📝</span>
                            <span>My Playlists</span>
                        </a>
                        <a href="playlists.html" class="profile-dropdown-item">
                            <span class="icon">🎵</span>
                            <span>Curated Playlists</span>
                        </a>
                        <div class="profile-dropdown-divider"></div>
                        <a href="settings.html" class="profile-dropdown-item">
                            <span class="icon">⚙️</span>
                            <span>Account Settings</span>
                        </a>
                        <div class="profile-dropdown-divider"></div>
                        <a href="#" class="profile-dropdown-item" id="logoutBtn" onclick="handleLogout(); return false;">
                            <span class="icon">🚪</span>
                            <span>Sign Out</span>
                        </a>
                    </div>
                </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-panel-overlay" id="mobilePanelOverlay" onclick="closeMobilePanel()"></div>

    <!-- Mobile Menu Panel -->
    <div class="mobile-panel" id="mobilePanel">
        <div class="mobile-panel-header">
            <button class="mobile-panel-close" onclick="closeMobilePanel()">✕</button>
        </div>

        <!-- Primary nav links -->
        <nav class="mobile-panel-nav">
            <a href="index.html" class="mobile-panel-link">Home</a>
            <a href="browse.html" class="mobile-panel-link active">Browse</a>
            <a href="playlists.html" class="mobile-panel-link">Playlists</a>
            <a href="pricing.html" class="mobile-panel-link">Pricing</a>
        </nav>

        <div class="mobile-panel-divider"></div>

        <!-- My Media expandable -->
        <button class="mobile-panel-expandable" id="myMediaBtn" onclick="togglePanelSection('myMedia')">
            <span>My Media</span>
            <span class="mobile-panel-chevron">▾</span>
        </button>
        <div class="mobile-panel-submenu" id="myMediaSubmenu">
            <a href="favorites.html" class="mobile-panel-sublink">❤️&nbsp; Favorites</a>
            <a href="my-playlists.html" class="mobile-panel-sublink">📝&nbsp; My Playlists</a>
            <a href="playlists.html" class="mobile-panel-sublink">🎵&nbsp; Curated Playlists</a>
        </div>

        <!-- Account expandable (logged-in only) -->
        <button class="mobile-panel-expandable" id="accountBtn" onclick="togglePanelSection('account')" style="display:none;">
            <span>Account</span>
            <span class="mobile-panel-chevron">▾</span>
        </button>
        <div class="mobile-panel-submenu" id="accountSubmenu">
            <a href="settings.html" class="mobile-panel-sublink">⚙️&nbsp; Settings</a>
            <a href="#" class="mobile-panel-sublink" onclick="handleLogout(); closeMobilePanel(); return false;">🚪&nbsp; Sign Out</a>
        </div>

        <!-- Subscribe CTA -->
        <a href="pricing.html" class="mobile-panel-subscribe">Subscribe</a>

        <!-- Auth buttons (logged-out only) -->
        <div class="mobile-panel-auth-btns" id="mobilePanelAuthBtns">
            <a href="signup.html" class="mobile-panel-auth-btn login">Log In</a>
            <a href="signup.html" class="mobile-panel-auth-btn signup">Create Free Account</a>
        </div>

        <div class="mobile-panel-footer">
            <a href="terms.html" class="mobile-panel-footer-link">Terms &amp; Conditions</a>
        </div>
    </div>

    <!-- Mobile Filter Button -->
    <button class="mobile-filter-btn" id="mobileFilterBtn" onclick="openFilterModal()">
        🎛️
    </button>

    <!-- Filter Modal Overlay -->
    <div class="filter-modal-overlay" id="filterModalOverlay" onclick="closeFilterModal()"></div>

    <!-- Filter Modal -->
    <div class="filter-modal" id="filterModal">
        <div class="filter-modal-header">
            <h2 class="filter-modal-title">Filters</h2>
            <button class="filter-modal-close" onclick="closeFilterModal()">×</button>
        </div>
        <div class="filter-modal-body" id="filterModalBody">
            <!-- Filter content will be cloned here for mobile -->
        </div>
        <div class="filter-modal-footer">
            <button class="filter-clear-btn" onclick="clearAllFilters(); closeFilterModal();">Clear All</button>
            <button class="filter-apply-btn" onclick="closeFilterModal()">Apply Filters</button>
        </div>
    </div>

    <!-- Cart Overlay -->
    <div class="cart-overlay" id="cartOverlay" onclick="closeCart()"></div>

    <!-- Cart Modal -->
    <div class="cart-modal" id="cartModal">
        <div class="cart-header">
            <h2 class="cart-title">Your Cart</h2>
            <button class="cart-close" onclick="closeCart()">×</button>
        </div>
        
        <div class="cart-body" id="cartBody">
            <div class="cart-empty">
                <div class="cart-empty-icon">🛒</div>
                <p>Your cart is empty</p>
            </div>
        </div>
        
        <div class="cart-footer" id="cartFooter" style="display: none;">
            <div class="cart-total">
                <span class="cart-total-label">Total:</span>
                <span class="cart-total-amount" id="cartTotal">$0</span>
            </div>
            <button class="cart-checkout-btn" onclick="checkout()">Proceed to Checkout</button>
        </div>
    </div>

    <!-- Download Prompt Modal -->
    <div class="download-overlay" id="downloadOverlay" onclick="closeDownloadPrompt()"></div>
    <div class="download-modal" id="downloadModal">
        <button class="download-close" onclick="closeDownloadPrompt()">×</button>
        <div class="download-content">
            <h2 class="download-title">Get Unlimited Music</h2>
            <p class="download-subtitle">Subscribe to download unlimited tracks and start creating your video.</p>
            <div class="download-actions">
                <button class="download-btn-primary" onclick="window.location.href='/pricing.html'">Subscribe Now</button>
                <button class="download-btn-secondary" onclick="addToCartFromModal()">Add to Cart</button>
            </div>
            <p class="download-info">Already subscribed? Your downloads will start automatically.</p>
        </div>
    </div>

    <!-- Download Options Modal (for subscribers) -->
    <div class="download-overlay" id="downloadOptionsOverlay" onclick="closeDownloadOptions()"></div>
    <div class="download-modal" id="downloadOptionsModal">
        <button class="download-close" onclick="closeDownloadOptions()">×</button>
        <div class="download-content">
            <h2 class="download-title">Download Options</h2>
            <p class="download-subtitle" id="downloadOptionsTrackTitle"></p>
            <div class="download-options-list" id="downloadOptionsList">
                <!-- Options will be populated dynamically -->
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <!-- Sidebar Filters -->
            <aside class="sidebar">
                <div class="sidebar-sticky">
                    <div class="filter-panel" id="filterPanel">
                        <div class="filter-header">
                            <h3 class="filter-title">Filters</h3>
                            <button class="clear-filters" onclick="clearAllFilters()">Clear All</button>
                        </div>
                        
                        <!-- Genre Filter -->
                        <div class="filter-section">
                            <div class="filter-section-title" onclick="toggleFilterSection(this)">
                                <span>Genre</span>
                                <span class="filter-section-arrow">▼</span>
                            </div>
                            <div class="filter-options">
                                <div class="filter-option" onclick="toggleFilter(this, 'genre', 'dance')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">Dance</div>
                                </div>
                                <div class="filter-option" onclick="toggleFilter(this, 'genre', 'electronic')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">Electronic</div>
                                </div>
                                <div class="filter-option" onclick="toggleFilter(this, 'genre', 'hip hop')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">Hip Hop</div>
                                </div>
                                <div class="filter-option" onclick="toggleFilter(this, 'genre', 'ambient')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">Ambient</div>
                                </div>
                                <div class="filter-option" onclick="toggleFilter(this, 'genre', 'corporate')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">Corporate</div>
                                </div>
                                <div class="filter-option" onclick="toggleFilter(this, 'genre', 'cinematic')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">Cinematic</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- BPM Filter -->
                        <div class="filter-section">
                            <div class="filter-section-title" onclick="toggleFilterSection(this)">
                                <span>BPM</span>
                                <span class="filter-section-arrow">▼</span>
                            </div>
                            <div class="filter-options">
                                <div class="filter-option" onclick="toggleFilter(this, 'bpm', '60-90')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">60-90 (Slow)</div>
                                </div>
                                <div class="filter-option" onclick="toggleFilter(this, 'bpm', '90-120')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">90-120 (Medium)</div>
                                </div>
                                <div class="filter-option" onclick="toggleFilter(this, 'bpm', '120-150')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">120-150 (Fast)</div>
                                </div>
                                <div class="filter-option" onclick="toggleFilter(this, 'bpm', '150+')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">150+ (Very Fast)</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Mood Filter -->
                        <div class="filter-section">
                            <div class="filter-section-title" onclick="toggleFilterSection(this)">
                                <span>Mood</span>
                                <span class="filter-section-arrow">▼</span>
                            </div>
                            <div class="filter-options">
                                <div class="filter-option" onclick="toggleFilter(this, 'mood', 'energetic')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">Energetic</div>
                                </div>
                                <div class="filter-option" onclick="toggleFilter(this, 'mood', 'chill')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">Chill</div>
                                </div>
                                <div class="filter-option" onclick="toggleFilter(this, 'mood', 'dark')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">Dark</div>
                                </div>
                                <div class="filter-option" onclick="toggleFilter(this, 'mood', 'upbeat')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">Upbeat</div>
                                </div>
                                <div class="filter-option" onclick="toggleFilter(this, 'mood', 'atmospheric')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">Atmospheric</div>
                                </div>
                                <div class="filter-option" onclick="toggleFilter(this, 'mood', 'retro')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">Retro</div>
                                </div>
                                <div class="filter-option" onclick="toggleFilter(this, 'mood', 'indie')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">Indie</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Duration Filter -->
                        <div class="filter-section">
                            <div class="filter-section-title" onclick="toggleFilterSection(this)">
                                <span>Duration</span>
                                <span class="filter-section-arrow">▼</span>
                            </div>
                            <div class="filter-options">
                                <div class="filter-option" onclick="toggleFilter(this, 'duration', 'short')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">Under 1 min</div>
                                </div>
                                <div class="filter-option" onclick="toggleFilter(this, 'duration', 'medium')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">1-3 min</div>
                                </div>
                                <div class="filter-option" onclick="toggleFilter(this, 'duration', 'long')">
                                    <div class="filter-checkbox"></div>
                                    <div class="filter-label">3+ min</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>
            
            <!-- Main Content Area -->
            <div class="main-content">
                <!-- Search -->
                <div class="search-section">
                    <div class="search-box">
                        <span class="search-icon">🔍</span>
                        <input type="text" id="searchInput" class="search-input" placeholder="search tracks by mood, genre, instrument..." oninput="searchTracks()">
                    </div>
                </div>

                <!-- Track List Header -->
                <div class="track-list-header">
                    <div></div>
                    <div></div>
                    <div>track</div>
                    <div></div>
                    <div></div>
                    <div>genre</div>
                    <div>bpm</div>
                    <div>time</div>
                    <div></div>
                </div>

                <!-- Track List -->
                <div class="track-list">
                <!-- Track Group 1: Buck Moon -->
                <div class="track-group">
                    <!-- Main Track -->
                    <div class="track-item main-track has-alternates" data-track-id="1" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-go-now/buck-moon-go-now-full-preview.mp3" onclick="toggleAlternates(event, 'alternates-1')" data-use-cases="fitness class warmup, streetwear fashion show, youth sports highlight reel, skateboarding video, energy drink commercial" data-moods="energetic, confident, urban, gritty, motivational" data-similar-artists="Flume, ODESZA, Kaytranada, Diplo, LCD Soundsystem" data-energy="very high" data-best-moments="opening sequence, action montage, background energy, climactic moment, credits, workout sequences, fast-cut edits">
                        <div class="track-play" onclick="playTrack(event, 1)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info"><span class="track-title">Buck Moon - "Go, Now" <span class="versions-badge">2 versions</span></span></div>
                        <div class="expand-arrow">▼</div>
                        <div class="waveform-container" onclick="seekAudio(event, 1)" data-track-id="1">
                            <div class="waveform-progress" id="progress-1"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 50%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 40%"></div>
                                <div class="waveform-bar" style="height: 50%"></div>
                            </div>
                        </div>
                        <div class="track-genre">dance, electronic, hip hop</div>
                        <div class="track-bpm">90</div>
                        <div class="track-duration">1:09</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-like" data-track-id="1" onclick="toggleLike(event, 1)">🤍</button>
                            <button class="action-btn action-btn-primary" onclick="addToCart(event, 1)">cart</button>
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 1)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 1)">⬇</button>
                        </div>
                    </div>

                    <!-- Alternates Container -->
                    <div class="alternates-container" id="alternates-1">
                        <!-- Alternate 1: Intro -->
                        <div class="track-item alternate" data-track-id="2" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-go-now/buck-moon-go-now-intro-main.mp3">
                            <div class="track-play" onclick="playTrack(event, 2)">▶</div>
                        <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Intro</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 2)" data-track-id="2">
                                <div class="waveform-progress" id="progress-2"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 90%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                </div>
                            </div>
                            <div class="track-genre">dance, electronic, hip hop</div>
                            <div class="track-bpm">90</div>
                            <div class="track-duration">0:27</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 2)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 2)">⬇</button>
                        </div>
                        </div>

                        <!-- Alternate 2: Outro -->
                        <div class="track-item alternate" data-track-id="3" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-go-now/buck-moon-go-now-outro.mp3">
                            <div class="track-play" onclick="playTrack(event, 3)">▶</div>
                        <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Outro</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 3)" data-track-id="3">
                                <div class="waveform-progress" id="progress-3"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                </div>
                            </div>
                            <div class="track-genre">dance, electronic, hip hop</div>
                            <div class="track-bpm">90</div>
                            <div class="track-duration">0:27</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 3)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 3)">⬇</button>
                        </div>
                        </div>
                    </div>
                </div>

                <!-- Track Group 2: Buck Moon - Super Things -->
                <div class="track-group">
                    <!-- Main Track -->
                    <div class="track-item main-track has-alternates" data-track-id="4" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-super-things/buck-moon-super-things-full-preview.mp3" onclick="toggleAlternates(event, 'alternates-2')" data-use-cases="tech product launch video, gaming highlight reel, innovation startup pitch deck, science future documentary, drone footage cityscape" data-moods="futuristic, innovative, sleek, upbeat, progressive" data-similar-artists="Daft Punk, Justice, The Chemical Brothers, Aphex Twin" data-energy="high" data-best-moments="opening sequence, montage, background energy, product reveal, credits">
                        <div class="track-play" onclick="playTrack(event, 4)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info"><span class="track-title">Buck Moon - "Super Things" <span class="versions-badge">4 versions</span></span></div>
                        <div class="expand-arrow">▼</div>
                        <div class="waveform-container" onclick="seekAudio(event, 4)" data-track-id="4">
                            <div class="waveform-progress" id="progress-4"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 95%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 95%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 50%"></div>
                            </div>
                        </div>
                        <div class="track-genre">electronic, hip hop, trap, dub</div>
                        <div class="track-bpm">152</div>
                        <div class="track-duration">4:00</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-like" data-track-id="4" onclick="toggleLike(event, 4)">🤍</button>
                            <button class="action-btn action-btn-primary" onclick="addToCart(event, 4)">cart</button>
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 4)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 4)">⬇</button>
                        </div>
                    </div>

                    <!-- Alternates Container -->
                    <div class="alternates-container" id="alternates-2">
                        <!-- Alternate 1: Breakdown -->
                        <div class="track-item alternate" data-track-id="5" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-super-things/buck-moon-super-things-breakdown-preview.mp3">
                            <div class="track-play" onclick="playTrack(event, 5)">▶</div>
                        <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Breakdown</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 5)" data-track-id="5">
                                <div class="waveform-progress" id="progress-5"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                </div>
                            </div>
                            <div class="track-genre">electronic, hip hop, trap, dub</div>
                            <div class="track-bpm">152</div>
                            <div class="track-duration">1:08</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 5)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 5)">⬇</button>
                        </div>
                        </div>

                        <!-- Alternate 2: Intro -->
                        <div class="track-item alternate" data-track-id="6" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-super-things/buck-moon-super-things-intro-preview.mp3">
                            <div class="track-play" onclick="playTrack(event, 6)">▶</div>
                        <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Intro</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 6)" data-track-id="6">
                                <div class="waveform-progress" id="progress-6"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 90%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                </div>
                            </div>
                            <div class="track-genre">electronic, hip hop, trap, dub</div>
                            <div class="track-bpm">152</div>
                            <div class="track-duration">1:12</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 6)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 6)">⬇</button>
                        </div>
                        </div>

                        <!-- Alternate 3: Main Beat -->
                        <div class="track-item alternate" data-track-id="7" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-super-things/buck-moon-super-things-main-beat-preview.mp3">
                            <div class="track-play" onclick="playTrack(event, 7)">▶</div>
                        <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Main Beat</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 7)" data-track-id="7">
                                <div class="waveform-progress" id="progress-7"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 90%"></div>
                                    <div class="waveform-bar" style="height: 95%"></div>
                                    <div class="waveform-bar" style="height: 90%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 90%"></div>
                                    <div class="waveform-bar" style="height: 95%"></div>
                                    <div class="waveform-bar" style="height: 90%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 90%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                </div>
                            </div>
                            <div class="track-genre">electronic, hip hop, trap, dub</div>
                            <div class="track-bpm">152</div>
                            <div class="track-duration">1:00</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 7)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 7)">⬇</button>
                        </div>
                        </div>

                        <!-- Alternate 4: Outro -->
                        <div class="track-item alternate" data-track-id="8" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-super-things/buck-moon-super-things-outro-preview.mp3">
                            <div class="track-play" onclick="playTrack(event, 8)">▶</div>
                        <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Outro</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 8)" data-track-id="8">
                                <div class="waveform-progress" id="progress-8"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                </div>
                            </div>
                            <div class="track-genre">electronic, hip hop, trap, dub</div>
                            <div class="track-bpm">152</div>
                            <div class="track-duration">1:15</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 8)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 8)">⬇</button>
                        </div>
                        </div>
                    </div>
                </div>

                <!-- Track Group 3: Buck Moon - Give Me Your Energy -->
                <div class="track-group">
                    <!-- Main Track -->
                    <div class="track-item main-track has-alternates" data-track-id="9" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-give-me-your-energy/buck-moon-give-me-your-energy-full-preview.mp3" onclick="toggleAlternates(event, 'alternates-3')" data-use-cases="workout gym motivation video, sports team hype video, festival concert promo, energy drink commercial, marathon running event highlight" data-moods="powerful, driving, intense, anthemic, motivational" data-similar-artists="The Prodigy, Pendulum, Knife Party, Zedd" data-energy="very high" data-best-moments="climactic moment, workout sequences, action montage, opening sequence, fast-cut edits">
                        <div class="track-play" onclick="playTrack(event, 9)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info"><span class="track-title">Buck Moon - "Give Me Your Energy" <span class="versions-badge">2 versions</span></span></div>
                        <div class="expand-arrow">▼</div>
                        <div class="waveform-container" onclick="seekAudio(event, 9)" data-track-id="9">
                            <div class="waveform-progress" id="progress-9"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 50%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 95%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 95%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                            </div>
                        </div>
                        <div class="track-genre">electronic, dance, energetic, retro, indie</div>
                        <div class="track-bpm">95</div>
                        <div class="track-duration">3:12</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-like" data-track-id="9" onclick="toggleLike(event, 9)">🤍</button>
                            <button class="action-btn action-btn-primary" onclick="addToCart(event, 9)">cart</button>
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 9)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 9)">⬇</button>
                        </div>
                    </div>

                    <!-- Alternates Container -->
                    <div class="alternates-container" id="alternates-3">
                        <!-- Alternate 1: Intro -->
                        <div class="track-item alternate" data-track-id="10" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-give-me-your-energy/buck-moon-give-me-your-energy-intro.mp3">
                            <div class="track-play" onclick="playTrack(event, 10)">▶</div>
                        <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Intro</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 10)" data-track-id="10">
                                <div class="waveform-progress" id="progress-10"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                </div>
                            </div>
                            <div class="track-genre">electronic, dance, energetic, retro, indie</div>
                            <div class="track-bpm">95</div>
                            <div class="track-duration">1:08</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 10)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 10)">⬇</button>
                        </div>
                        </div>

                        <!-- Alternate 2: Breakdown -->
                        <div class="track-item alternate" data-track-id="11" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-give-me-your-energy/buck-moon-give-me-your-energy-breakdown.mp3">
                            <div class="track-play" onclick="playTrack(event, 11)">▶</div>
                        <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Breakdown</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 11)" data-track-id="11">
                                <div class="waveform-progress" id="progress-11"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                </div>
                            </div>
                            <div class="track-genre">electronic, dance, energetic, retro, indie</div>
                            <div class="track-bpm">95</div>
                            <div class="track-duration">1:25</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 11)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 11)">⬇</button>
                        </div>
                        </div>
                    </div>
                </div>

                <!-- Track Group 4: Buck Moon - Snow -->
                <div class="track-group">
                    <!-- Main Track -->
                    <div class="track-item main-track has-alternates" data-track-id="12" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-snow/buck-moon-snow-full-preview.mp3" onclick="toggleAlternates(event, 'alternates-4')" data-use-cases="late night workout running video, luxury car commercial night driving, high-end cocktail bar lounge promo, urban nightlife time-lapse, afterparty club lifestyle vlog" data-moods="euphoric, driving, progressive, hypnotic, uplifting" data-similar-artists="Tiësto early 2000s, Armin van Buuren, Paul van Dyk, Ferry Corsten, Above & Beyond" data-energy="high" data-best-moments="climactic moment, dance floor montage, buildup sequences, festival crowd shots, euphoric peak moments">
                        <div class="track-play" onclick="playTrack(event, 12)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info"><span class="track-title">Buck Moon - "Snow" <span class="versions-badge">5 versions</span></span></div>
                        <div class="expand-arrow">▼</div>
                        <div class="waveform-container" onclick="seekAudio(event, 12)" data-track-id="12">
                            <div class="waveform-progress" id="progress-12"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 35%"></div>
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 95%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 50%"></div>
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 40%"></div>
                                <div class="waveform-bar" style="height: 35%"></div>
                            </div>
                        </div>
                        <div class="track-genre">electronic, dance, strings, house, tech, progressive</div>
                        <div class="track-bpm">120</div>
                        <div class="track-duration">5:18</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-like" data-track-id="12" onclick="toggleLike(event, 12)">🤍</button>
                            <button class="action-btn action-btn-primary" onclick="addToCart(event, 12)">cart</button>
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 12)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 12)">⬇</button>
                        </div>
                    </div>

                    <!-- Alternates Container -->
                    <div class="alternates-container" id="alternates-4">
                        <!-- Alternate 1: Intro -->
                        <div class="track-item alternate" data-track-id="13" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-snow/buck-moon-snow-intro.mp3">
                            <div class="track-play" onclick="playTrack(event, 13)">▶</div>
                        <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Intro</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 13)" data-track-id="13">
                                <div class="waveform-progress" id="progress-13"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                </div>
                            </div>
                            <div class="track-genre">electronic, dance, strings, house, tech, progressive</div>
                            <div class="track-bpm">120</div>
                            <div class="track-duration">1:07</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 13)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 13)">⬇</button>
                        </div>
                        </div>

                        <!-- Alternate 2: Breakdown -->
                        <div class="track-item alternate" data-track-id="14" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-snow/buck-moon-snow-breakdown.mp3">
                            <div class="track-play" onclick="playTrack(event, 14)">▶</div>
                        <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Breakdown</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 14)" data-track-id="14">
                                <div class="waveform-progress" id="progress-14"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                </div>
                            </div>
                            <div class="track-genre">electronic, dance, strings, house, tech, progressive</div>
                            <div class="track-bpm">120</div>
                            <div class="track-duration">1:05</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 14)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 14)">⬇</button>
                        </div>
                        </div>

                        <!-- Alternate 3: Club Beat -->
                        <div class="track-item alternate" data-track-id="15" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-snow/buck-moon-snow-club-beat.mp3">
                            <div class="track-play" onclick="playTrack(event, 15)">▶</div>
                        <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Club Beat</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 15)" data-track-id="15">
                                <div class="waveform-progress" id="progress-15"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 90%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                </div>
                            </div>
                            <div class="track-genre">electronic, dance, strings, house, tech, progressive</div>
                            <div class="track-bpm">120</div>
                            <div class="track-duration">1:03</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 15)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 15)">⬇</button>
                        </div>
                        </div>

                        <!-- Alternate 4: Final Beat -->
                        <div class="track-item alternate" data-track-id="16" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-snow/buck-moon-snow-final-beat.mp3">
                            <div class="track-play" onclick="playTrack(event, 16)">▶</div>
                        <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Final Beat</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 16)" data-track-id="16">
                                <div class="waveform-progress" id="progress-16"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 90%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                </div>
                            </div>
                            <div class="track-genre">electronic, dance, strings, house, tech, progressive</div>
                            <div class="track-bpm">120</div>
                            <div class="track-duration">2:10</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 16)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 16)">⬇</button>
                        </div>
                        </div>
                    </div>
                </div>

                <!-- Track Group 5: Buck Moon - Swell -->
                <div class="track-group">
                    <!-- Main Track -->
                    <div class="track-item main-track has-alternates" data-track-id="17" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-swell/buck-moon-swell-full-preview.mp3" onclick="toggleAlternates(event, 'alternates-5')" data-use-cases="surf beach lifestyle video, travel vlog tropical destinations, summer festival promo, ocean water sports documentary, California coastal brand commercial" data-moods="breezy, carefree, sunny, relaxed, feel-good" data-similar-artists="Tycho, Washed Out, Toro y Moi, Poolside, Miami Horror" data-energy="medium" data-best-moments="background atmosphere, opening sequence, montage, feel-good moments, credits">
                        <div class="track-play" onclick="playTrack(event, 17)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info"><span class="track-title">Buck Moon - "Swell" <span class="versions-badge">5 versions</span></span></div>
                        <div class="expand-arrow">▼</div>
                        <div class="waveform-container" onclick="seekAudio(event, 17)" data-track-id="17">
                            <div class="waveform-progress" id="progress-17"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 30%"></div>
                                <div class="waveform-bar" style="height: 40%"></div>
                                <div class="waveform-bar" style="height: 50%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 50%"></div>
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 40%"></div>
                                <div class="waveform-bar" style="height: 35%"></div>
                                <div class="waveform-bar" style="height: 30%"></div>
                            </div>
                        </div>
                        <div class="track-genre">electronic, hip hop, trap, dub</div>
                        <div class="track-bpm">100</div>
                        <div class="track-duration">3:36</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-like" data-track-id="17" onclick="toggleLike(event, 17)">🤍</button>
                            <button class="action-btn action-btn-primary" onclick="addToCart(event, 17)">cart</button>
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 17)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 17)">⬇</button>
                        </div>
                    </div>

                    <!-- Alternates Container -->
                    <div class="alternates-container" id="alternates-5">
                        <!-- Alternate 1: Intro -->
                        <div class="track-item alternate" data-track-id="18" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-swell/buck-moon-swell-intro.mp3">
                            <div class="track-play" onclick="playTrack(event, 18)">▶</div>
                        <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Intro</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 18)" data-track-id="18">
                                <div class="waveform-progress" id="progress-18"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                </div>
                            </div>
                            <div class="track-genre">electronic, hip hop, trap, dub</div>
                            <div class="track-bpm">100</div>
                            <div class="track-duration">0:24</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 18)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 18)">⬇</button>
                        </div>
                        </div>

                        <!-- Alternate 2: Breakdown -->
                        <div class="track-item alternate" data-track-id="19" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-swell/buck-moon-swell-breakdown.mp3">
                            <div class="track-play" onclick="playTrack(event, 19)">▶</div>
                        <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Breakdown</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 19)" data-track-id="19">
                                <div class="waveform-progress" id="progress-19"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                </div>
                            </div>
                            <div class="track-genre">electronic, hip hop, trap, dub</div>
                            <div class="track-bpm">100</div>
                            <div class="track-duration">0:24</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 19)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 19)">⬇</button>
                        </div>
                        </div>

                        <!-- Alternate 3: Bridge -->
                        <div class="track-item alternate" data-track-id="20" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-swell/buck-moon-swell-bridge.mp3">
                            <div class="track-play" onclick="playTrack(event, 20)">▶</div>
                        <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Bridge</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 20)" data-track-id="20">
                                <div class="waveform-progress" id="progress-20"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                </div>
                            </div>
                            <div class="track-genre">electronic, hip hop, trap, dub</div>
                            <div class="track-bpm">100</div>
                            <div class="track-duration">0:43</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 20)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 20)">⬇</button>
                        </div>
                        </div>

                        <!-- Alternate 4: Main Beat -->
                        <div class="track-item alternate" data-track-id="21" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-swell/buck-moon-swell-main-beat.mp3">
                            <div class="track-play" onclick="playTrack(event, 21)">▶</div>
                        <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Main Beat</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 21)" data-track-id="21">
                                <div class="waveform-progress" id="progress-21"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                </div>
                            </div>
                            <div class="track-genre">electronic, hip hop, trap, dub</div>
                            <div class="track-bpm">100</div>
                            <div class="track-duration">0:46</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 21)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 21)">⬇</button>
                        </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Track Group 6: Crane Flight - I'll Be There -->
            <div class="track-group">
                <!-- Main Track -->
                <div class="track-item main-track has-alternates" data-track-id="22" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/afro-beats-vol-1/crane-flight-ill-be-there/crane-flight-ill-be-there-full-preview.mp3" onclick="toggleAlternates(event, 'alternates-crane')" data-use-cases="African culture documentary, Lagos street party footage, workout motivation video, summer rooftop party promo, festival crowd hype reel" data-moods="energetic, uplifting, fun, celebratory, vibrant" data-similar-artists="Burna Boy, Wizkid, Davido, Tiwa Savage, Focalistic" data-energy="high" data-best-moments="action montage, celebration scenes, party atmosphere, energetic transitions, crowd shots">
                    <div class="track-play" onclick="playTrack(event, 22)">▶</div>
                    <div class="track-artwork">
                        <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/afro-beats-vol-1-cover.jpg" alt="Afro Beats Vol 1" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                    </div>
                    <div class="track-info"><span class="track-title">Crane Flight - "I'll Be There" <span class="versions-badge">4 versions</span></span></div>
                    <div class="expand-arrow">▼</div>
                    <div class="waveform-container" onclick="seekAudio(event, 22)" data-track-id="22">
                        <div class="waveform-progress" id="progress-22"></div>
                        <div class="waveform">
                            <div class="waveform-bar" style="height: 45%"></div>
                            <div class="waveform-bar" style="height: 60%"></div>
                            <div class="waveform-bar" style="height: 75%"></div>
                            <div class="waveform-bar" style="height: 85%"></div>
                            <div class="waveform-bar" style="height: 90%"></div>
                            <div class="waveform-bar" style="height: 95%"></div>
                            <div class="waveform-bar" style="height: 90%"></div>
                            <div class="waveform-bar" style="height: 85%"></div>
                            <div class="waveform-bar" style="height: 80%"></div>
                            <div class="waveform-bar" style="height: 75%"></div>
                            <div class="waveform-bar" style="height: 85%"></div>
                            <div class="waveform-bar" style="height: 90%"></div>
                            <div class="waveform-bar" style="height: 85%"></div>
                            <div class="waveform-bar" style="height: 80%"></div>
                            <div class="waveform-bar" style="height: 70%"></div>
                            <div class="waveform-bar" style="height: 60%"></div>
                            <div class="waveform-bar" style="height: 50%"></div>
                            <div class="waveform-bar" style="height: 40%"></div>
                            <div class="waveform-bar" style="height: 35%"></div>
                            <div class="waveform-bar" style="height: 30%"></div>
                        </div>
                    </div>
                    <div class="track-genre">afro beats, fun, dance, electro</div>
                    <div class="track-bpm">100</div>
                    <div class="track-duration">2:21</div>
                    <div class="track-actions">
                        <button class="action-btn action-btn-like" data-track-id="22" onclick="toggleLike(event, 22)">🤍</button>
                        <button class="action-btn action-btn-primary" onclick="addToCart(event, 22)">cart</button>
                        <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 22)">+</button>
                        <button class="action-btn action-btn-download" onclick="downloadTrack(event, 22)">⬇</button>
                    </div>
                </div>

                <!-- Alternates Container -->
                <div class="alternates-container" id="alternates-crane">
                    <!-- 15s Version -->
                    <div class="track-item alternate" data-track-id="25" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/afro-beats-vol-1/crane-flight-ill-be-there/crane-flight-ill-be-there-15s.mp3">
                        <div class="track-play" onclick="playTrack(event, 25)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/afro-beats-vol-1-cover.jpg" alt="Afro Beats Vol 1" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info">
                            <span class="track-title">15s</span>
                        </div>
                        <div class="expand-arrow"></div>
                        <div class="waveform-container" onclick="seekAudio(event, 25)" data-track-id="25">
                            <div class="waveform-progress" id="progress-25"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 40%"></div>
                            </div>
                        </div>
                        <div class="track-genre">afro beats, fun, dance, electro</div>
                        <div class="track-bpm">100</div>
                        <div class="track-duration">0:15</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 25)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 25)">⬇</button>
                        </div>
                    </div>

                    <!-- 30s Version -->
                    <div class="track-item alternate" data-track-id="26" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/afro-beats-vol-1/crane-flight-ill-be-there/crane-flight-ill-be-there-30s.mp3">
                        <div class="track-play" onclick="playTrack(event, 26)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/afro-beats-vol-1-cover.jpg" alt="Afro Beats Vol 1" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info">
                            <span class="track-title">30s</span>
                        </div>
                        <div class="expand-arrow"></div>
                        <div class="waveform-container" onclick="seekAudio(event, 26)" data-track-id="26">
                            <div class="waveform-progress" id="progress-26"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 50%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 95%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                            </div>
                        </div>
                        <div class="track-genre">afro beats, fun, dance, electro</div>
                        <div class="track-bpm">100</div>
                        <div class="track-duration">0:30</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 26)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 26)">⬇</button>
                        </div>
                    </div>

                    <!-- 60s Version -->
                    <div class="track-item alternate" data-track-id="27" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/afro-beats-vol-1/crane-flight-ill-be-there/crane-flight-ill-be-there-60s.mp3">
                        <div class="track-play" onclick="playTrack(event, 27)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/afro-beats-vol-1-cover.jpg" alt="Afro Beats Vol 1" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info">
                            <span class="track-title">60s</span>
                        </div>
                        <div class="expand-arrow"></div>
                        <div class="waveform-container" onclick="seekAudio(event, 27)" data-track-id="27">
                            <div class="waveform-progress" id="progress-27"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 95%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 50%"></div>
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 40%"></div>
                            </div>
                        </div>
                        <div class="track-genre">afro beats, fun, dance, electro</div>
                        <div class="track-bpm">100</div>
                        <div class="track-duration">1:00</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 27)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 27)">⬇</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Track Group 7: Buck Moon - Airborne -->
            <div class="track-group">
                <!-- Main Track -->
                <div class="track-item main-track has-alternates" data-track-id="23" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-airborne/buck-moon-airborne-full-preview.mp3" onclick="toggleAlternates(event, 'alternates-airborne')" data-use-cases="fitness workout montage, product launch video, sports highlight reel, fashion show runway, upbeat brand commercial" data-moods="energetic, fun, uplifting, funky, confident" data-similar-artists="Daft Punk, Purple Disco Machine, Chromeo, Breakbot, Oliver" data-energy="high" data-best-moments="action sequences, energetic transitions, product reveals, dance segments, motivational moments">
                    <div class="track-play" onclick="playTrack(event, 23)">▶</div>
                    <div class="track-artwork">
                        <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                    </div>
                    <div class="track-info"><span class="track-title">Buck Moon - "Airborne" <span class="versions-badge">9 versions</span></span></div>
                    <div class="expand-arrow">▼</div>
                    <div class="waveform-container" onclick="seekAudio(event, 23)" data-track-id="23">
                        <div class="waveform-progress" id="progress-23"></div>
                        <div class="waveform">
                            <div class="waveform-bar" style="height: 50%"></div>
                            <div class="waveform-bar" style="height: 65%"></div>
                            <div class="waveform-bar" style="height: 80%"></div>
                            <div class="waveform-bar" style="height: 90%"></div>
                            <div class="waveform-bar" style="height: 95%"></div>
                            <div class="waveform-bar" style="height: 90%"></div>
                            <div class="waveform-bar" style="height: 85%"></div>
                            <div class="waveform-bar" style="height: 90%"></div>
                            <div class="waveform-bar" style="height: 95%"></div>
                            <div class="waveform-bar" style="height: 90%"></div>
                            <div class="waveform-bar" style="height: 85%"></div>
                            <div class="waveform-bar" style="height: 80%"></div>
                            <div class="waveform-bar" style="height: 75%"></div>
                            <div class="waveform-bar" style="height: 70%"></div>
                            <div class="waveform-bar" style="height: 65%"></div>
                            <div class="waveform-bar" style="height: 60%"></div>
                            <div class="waveform-bar" style="height: 55%"></div>
                            <div class="waveform-bar" style="height: 50%"></div>
                            <div class="waveform-bar" style="height: 45%"></div>
                            <div class="waveform-bar" style="height: 40%"></div>
                        </div>
                    </div>
                    <div class="track-genre">funk, house, pop, edm, dance</div>
                    <div class="track-bpm">95</div>
                    <div class="track-duration">2:45</div>
                    <div class="track-actions">
                        <button class="action-btn action-btn-like" data-track-id="23" onclick="toggleLike(event, 23)">🤍</button>
                        <button class="action-btn action-btn-primary" onclick="addToCart(event, 23)">cart</button>
                        <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 23)">+</button>
                        <button class="action-btn action-btn-download" onclick="downloadTrack(event, 23)">⬇</button>
                    </div>
                </div>

                <!-- Alternates Container -->
                <div class="alternates-container" id="alternates-airborne">
                    <!-- 30s Version -->
                    <div class="track-item alternate" data-track-id="31" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-airborne/buck-moon-airborne-30s.mp3">
                        <div class="track-play" onclick="playTrack(event, 31)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info">
                            <span class="track-title">30s</span>
                        </div>
                        <div class="expand-arrow"></div>
                        <div class="waveform-container" onclick="seekAudio(event, 31)" data-track-id="31">
                            <div class="waveform-progress" id="progress-31"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 40%"></div>
                            </div>
                        </div>
                        <div class="track-genre">funk, house, pop, edm, dance</div>
                        <div class="track-bpm">95</div>
                        <div class="track-duration">0:30</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 31)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 31)">⬇</button>
                        </div>
                    </div>

                    <!-- 30s v2 -->
                    <div class="track-item alternate" data-track-id="33" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-airborne/buck-moon-airborne-30s-v2.mp3">
                        <div class="track-play" onclick="playTrack(event, 33)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info">
                            <span class="track-title">30s v2</span>
                        </div>
                        <div class="expand-arrow"></div>
                        <div class="waveform-container" onclick="seekAudio(event, 33)" data-track-id="33">
                            <div class="waveform-progress" id="progress-33"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 50%"></div>
                                <div class="waveform-bar" style="height: 40%"></div>
                                <div class="waveform-bar" style="height: 35%"></div>
                            </div>
                        </div>
                        <div class="track-genre">funk, house, pop, edm, dance</div>
                        <div class="track-bpm">95</div>
                        <div class="track-duration">0:30</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 33)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 33)">⬇</button>
                        </div>
                    </div>

                    <!-- 30s v3 -->
                    <div class="track-item alternate" data-track-id="34" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-airborne/buck-moon-airborne-30s-v3.mp3">
                        <div class="track-play" onclick="playTrack(event, 34)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info">
                            <span class="track-title">30s v3</span>
                        </div>
                        <div class="expand-arrow"></div>
                        <div class="waveform-container" onclick="seekAudio(event, 34)" data-track-id="34">
                            <div class="waveform-progress" id="progress-34"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 58%"></div>
                                <div class="waveform-bar" style="height: 72%"></div>
                                <div class="waveform-bar" style="height: 82%"></div>
                                <div class="waveform-bar" style="height: 88%"></div>
                                <div class="waveform-bar" style="height: 82%"></div>
                                <div class="waveform-bar" style="height: 72%"></div>
                                <div class="waveform-bar" style="height: 62%"></div>
                                <div class="waveform-bar" style="height: 52%"></div>
                                <div class="waveform-bar" style="height: 42%"></div>
                                <div class="waveform-bar" style="height: 38%"></div>
                            </div>
                        </div>
                        <div class="track-genre">funk, house, pop, edm, dance</div>
                        <div class="track-bpm">95</div>
                        <div class="track-duration">0:30</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 34)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 34)">⬇</button>
                        </div>
                    </div>

                    <!-- 30s v4 -->
                    <div class="track-item alternate" data-track-id="35" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-airborne/buck-moon-airborne-30s-v4.mp3">
                        <div class="track-play" onclick="playTrack(event, 35)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info">
                            <span class="track-title">30s v4</span>
                        </div>
                        <div class="expand-arrow"></div>
                        <div class="waveform-container" onclick="seekAudio(event, 35)" data-track-id="35">
                            <div class="waveform-progress" id="progress-35"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 62%"></div>
                                <div class="waveform-bar" style="height: 76%"></div>
                                <div class="waveform-bar" style="height: 86%"></div>
                                <div class="waveform-bar" style="height: 91%"></div>
                                <div class="waveform-bar" style="height: 86%"></div>
                                <div class="waveform-bar" style="height: 76%"></div>
                                <div class="waveform-bar" style="height: 66%"></div>
                                <div class="waveform-bar" style="height: 56%"></div>
                                <div class="waveform-bar" style="height: 46%"></div>
                                <div class="waveform-bar" style="height: 41%"></div>
                            </div>
                        </div>
                        <div class="track-genre">funk, house, pop, edm, dance</div>
                        <div class="track-bpm">95</div>
                        <div class="track-duration">0:30</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 35)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 35)">⬇</button>
                        </div>
                    </div>

                    <!-- 30s v5 -->
                    <div class="track-item alternate" data-track-id="36" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-airborne/buck-moon-airborne-30s-v5.mp3">
                        <div class="track-play" onclick="playTrack(event, 36)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info">
                            <span class="track-title">30s v5</span>
                        </div>
                        <div class="expand-arrow"></div>
                        <div class="waveform-container" onclick="seekAudio(event, 36)" data-track-id="36">
                            <div class="waveform-progress" id="progress-36"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 78%"></div>
                                <div class="waveform-bar" style="height: 87%"></div>
                                <div class="waveform-bar" style="height: 92%"></div>
                                <div class="waveform-bar" style="height: 87%"></div>
                                <div class="waveform-bar" style="height: 78%"></div>
                                <div class="waveform-bar" style="height: 68%"></div>
                                <div class="waveform-bar" style="height: 58%"></div>
                                <div class="waveform-bar" style="height: 48%"></div>
                                <div class="waveform-bar" style="height: 43%"></div>
                            </div>
                        </div>
                        <div class="track-genre">funk, house, pop, edm, dance</div>
                        <div class="track-bpm">95</div>
                        <div class="track-duration">0:30</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 36)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 36)">⬇</button>
                        </div>
                    </div>

                    <!-- 60s Version -->
                    <div class="track-item alternate" data-track-id="32" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-airborne/buck-moon-airborne-60s.mp3">
                        <div class="track-play" onclick="playTrack(event, 32)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info">
                            <span class="track-title">60s</span>
                        </div>
                        <div class="expand-arrow"></div>
                        <div class="waveform-container" onclick="seekAudio(event, 32)" data-track-id="32">
                            <div class="waveform-progress" id="progress-32"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 50%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 95%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 50%"></div>
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 40%"></div>
                            </div>
                        </div>
                        <div class="track-genre">funk, house, pop, edm, dance</div>
                        <div class="track-bpm">95</div>
                        <div class="track-duration">1:00</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 32)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 32)">⬇</button>
                        </div>
                    </div>

                    <!-- 60s v2 -->
                    <div class="track-item alternate" data-track-id="37" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-airborne/buck-moon-airborne-60s-v2.mp3">
                        <div class="track-play" onclick="playTrack(event, 37)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info">
                            <span class="track-title">60s v2</span>
                        </div>
                        <div class="expand-arrow"></div>
                        <div class="waveform-container" onclick="seekAudio(event, 37)" data-track-id="37">
                            <div class="waveform-progress" id="progress-37"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 48%"></div>
                                <div class="waveform-bar" style="height: 63%"></div>
                                <div class="waveform-bar" style="height: 78%"></div>
                                <div class="waveform-bar" style="height: 88%"></div>
                                <div class="waveform-bar" style="height: 93%"></div>
                                <div class="waveform-bar" style="height: 88%"></div>
                                <div class="waveform-bar" style="height: 83%"></div>
                                <div class="waveform-bar" style="height: 78%"></div>
                                <div class="waveform-bar" style="height: 68%"></div>
                                <div class="waveform-bar" style="height: 58%"></div>
                                <div class="waveform-bar" style="height: 48%"></div>
                                <div class="waveform-bar" style="height: 43%"></div>
                                <div class="waveform-bar" style="height: 38%"></div>
                            </div>
                        </div>
                        <div class="track-genre">funk, house, pop, edm, dance</div>
                        <div class="track-bpm">95</div>
                        <div class="track-duration">1:00</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 37)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 37)">⬇</button>
                        </div>
                    </div>

                    <!-- 60s v3 -->
                    <div class="track-item alternate" data-track-id="38" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-airborne/buck-moon-airborne-60s-v3.mp3">
                        <div class="track-play" onclick="playTrack(event, 38)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info">
                            <span class="track-title">60s v3</span>
                        </div>
                        <div class="expand-arrow"></div>
                        <div class="waveform-container" onclick="seekAudio(event, 38)" data-track-id="38">
                            <div class="waveform-progress" id="progress-38"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 52%"></div>
                                <div class="waveform-bar" style="height: 67%"></div>
                                <div class="waveform-bar" style="height: 82%"></div>
                                <div class="waveform-bar" style="height: 92%"></div>
                                <div class="waveform-bar" style="height: 97%"></div>
                                <div class="waveform-bar" style="height: 92%"></div>
                                <div class="waveform-bar" style="height: 87%"></div>
                                <div class="waveform-bar" style="height: 82%"></div>
                                <div class="waveform-bar" style="height: 72%"></div>
                                <div class="waveform-bar" style="height: 62%"></div>
                                <div class="waveform-bar" style="height: 52%"></div>
                                <div class="waveform-bar" style="height: 47%"></div>
                                <div class="waveform-bar" style="height: 42%"></div>
                            </div>
                        </div>
                        <div class="track-genre">funk, house, pop, edm, dance</div>
                        <div class="track-bpm">95</div>
                        <div class="track-duration">1:00</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 38)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 38)">⬇</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Track Group 8: Buck Moon - Spin My World -->
            <div class="track-group">
                <!-- Main Track -->
                <div class="track-item main-track has-alternates" data-track-id="24" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-spin-my-world/buck-moon-spin-my-world-full-preview.mp3" onclick="toggleAlternates(event, 'alternates-spin')" data-use-cases="coffee shop ambience video, study with me livestream, morning routine vlog, indie film soundtrack, reflective documentary" data-moods="chill, happy, emotional, dreamy, relaxed" data-similar-artists="ODESZA, Flume, Ford., Kasbo, Jai Wolf" data-energy="low-medium" data-best-moments="contemplative scenes, background atmosphere, introspective moments, calm transitions, peaceful sequences">
                    <div class="track-play" onclick="playTrack(event, 24)">▶</div>
                    <div class="track-artwork">
                        <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                    </div>
                    <div class="track-info"><span class="track-title">Buck Moon - "Spin My World" <span class="versions-badge">4 versions</span></span></div>
                    <div class="expand-arrow">▼</div>
                    <div class="waveform-container" onclick="seekAudio(event, 24)" data-track-id="24">
                        <div class="waveform-progress" id="progress-24"></div>
                        <div class="waveform">
                            <div class="waveform-bar" style="height: 35%"></div>
                            <div class="waveform-bar" style="height: 45%"></div>
                            <div class="waveform-bar" style="height: 55%"></div>
                            <div class="waveform-bar" style="height: 65%"></div>
                            <div class="waveform-bar" style="height: 70%"></div>
                            <div class="waveform-bar" style="height: 65%"></div>
                            <div class="waveform-bar" style="height: 60%"></div>
                            <div class="waveform-bar" style="height: 70%"></div>
                            <div class="waveform-bar" style="height: 75%"></div>
                            <div class="waveform-bar" style="height: 70%"></div>
                            <div class="waveform-bar" style="height: 65%"></div>
                            <div class="waveform-bar" style="height: 60%"></div>
                            <div class="waveform-bar" style="height: 55%"></div>
                            <div class="waveform-bar" style="height: 50%"></div>
                            <div class="waveform-bar" style="height: 45%"></div>
                            <div class="waveform-bar" style="height: 40%"></div>
                            <div class="waveform-bar" style="height: 35%"></div>
                            <div class="waveform-bar" style="height: 30%"></div>
                            <div class="waveform-bar" style="height: 25%"></div>
                            <div class="waveform-bar" style="height: 20%"></div>
                        </div>
                    </div>
                    <div class="track-genre">indie, electronic, lofi, pop</div>
                    <div class="track-bpm">95</div>
                    <div class="track-duration">3:40</div>
                    <div class="track-actions">
                        <button class="action-btn action-btn-like" data-track-id="24" onclick="toggleLike(event, 24)">🤍</button>
                        <button class="action-btn action-btn-primary" onclick="addToCart(event, 24)">cart</button>
                        <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 24)">+</button>
                        <button class="action-btn action-btn-download" onclick="downloadTrack(event, 24)">⬇</button>
                    </div>
                </div>

                <!-- Alternates Container -->
                <div class="alternates-container" id="alternates-spin">
                    <!-- Alternate Version -->
                    <div class="track-item alternate" data-track-id="28" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-spin-my-world/buck-moon-spin-my-world-alternate.mp3">
                        <div class="track-play" onclick="playTrack(event, 28)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info">
                            <span class="track-title">Alternate</span>
                        </div>
                        <div class="expand-arrow"></div>
                        <div class="waveform-container" onclick="seekAudio(event, 28)" data-track-id="28">
                            <div class="waveform-progress" id="progress-28"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 40%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 50%"></div>
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 35%"></div>
                            </div>
                        </div>
                        <div class="track-genre">indie, electronic, lofi, pop</div>
                        <div class="track-bpm">95</div>
                        <div class="track-duration">0:50</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 28)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 28)">⬇</button>
                        </div>
                    </div>

                    <!-- Bridge -->
                    <div class="track-item alternate" data-track-id="29" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-spin-my-world/buck-moon-spin-my-world-bridge.mp3">
                        <div class="track-play" onclick="playTrack(event, 29)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info">
                            <span class="track-title">Bridge</span>
                        </div>
                        <div class="expand-arrow"></div>
                        <div class="waveform-container" onclick="seekAudio(event, 29)" data-track-id="29">
                            <div class="waveform-progress" id="progress-29"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 35%"></div>
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 50%"></div>
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 40%"></div>
                                <div class="waveform-bar" style="height: 35%"></div>
                                <div class="waveform-bar" style="height: 30%"></div>
                            </div>
                        </div>
                        <div class="track-genre">indie, electronic, lofi, pop</div>
                        <div class="track-bpm">95</div>
                        <div class="track-duration">0:47</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 29)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 29)">⬇</button>
                        </div>
                    </div>

                    <!-- Chorus -->
                    <div class="track-item alternate" data-track-id="30" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-spin-my-world/buck-moon-spin-my-world-chorus.mp3">
                        <div class="track-play" onclick="playTrack(event, 30)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info">
                            <span class="track-title">Chorus</span>
                        </div>
                        <div class="expand-arrow"></div>
                        <div class="waveform-container" onclick="seekAudio(event, 30)" data-track-id="30">
                            <div class="waveform-progress" id="progress-30"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 50%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 40%"></div>
                            </div>
                        </div>
                        <div class="track-genre">indie, electronic, lofi, pop</div>
                        <div class="track-bpm">95</div>
                        <div class="track-duration">0:41</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 30)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 30)">⬇</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Track Group 9: MallFlex - Ice Skatin' -->
            <div class="track-group">
                <!-- Main Track -->
                <div class="track-item main-track has-alternates" data-track-id="39" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/mallflex-funky-mondays/mallflex-ice-skatin/mallflex-ice-skatin-full-preview.mp3" data-download-album="funky-munky" onclick="toggleAlternates(event, 'alternates-ice-skatin')" data-use-cases="retail shopping montage, fashion lookbook video, urban lifestyle vlog, streetwear brand promo, city night drive footage" data-moods="groovy, fun, smooth, confident, stylish" data-similar-artists="Anderson .Paak, Tom Misch, FKJ, Thundercat, Mac Ayres" data-energy="medium" data-best-moments="product reveals, smooth transitions, fashion sequences, confident moments, stylish montages">
                    <div class="track-play" onclick="playTrack(event, 39)">▶</div>
                    <div class="track-artwork">
                        <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/funky-munky.jpg" alt="Funky Munky" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                    </div>
                    <div class="track-info"><span class="track-title">MallFlex - "Ice Skatin'" <span class="versions-badge">4 versions</span></span></div>
                    <div class="expand-arrow">▼</div>
                    <div class="waveform-container" onclick="seekAudio(event, 39)" data-track-id="39">
                        <div class="waveform-progress" id="progress-39"></div>
                        <div class="waveform">
                            <div class="waveform-bar" style="height: 45%"></div>
                            <div class="waveform-bar" style="height: 60%"></div>
                            <div class="waveform-bar" style="height: 70%"></div>
                            <div class="waveform-bar" style="height: 80%"></div>
                            <div class="waveform-bar" style="height: 85%"></div>
                            <div class="waveform-bar" style="height: 80%"></div>
                            <div class="waveform-bar" style="height: 75%"></div>
                            <div class="waveform-bar" style="height: 70%"></div>
                            <div class="waveform-bar" style="height: 75%"></div>
                            <div class="waveform-bar" style="height: 80%"></div>
                            <div class="waveform-bar" style="height: 75%"></div>
                            <div class="waveform-bar" style="height: 70%"></div>
                            <div class="waveform-bar" style="height: 65%"></div>
                            <div class="waveform-bar" style="height: 60%"></div>
                            <div class="waveform-bar" style="height: 55%"></div>
                            <div class="waveform-bar" style="height: 50%"></div>
                            <div class="waveform-bar" style="height: 45%"></div>
                            <div class="waveform-bar" style="height: 40%"></div>
                            <div class="waveform-bar" style="height: 35%"></div>
                            <div class="waveform-bar" style="height: 30%"></div>
                        </div>
                    </div>
                    <div class="track-genre">funk, dance, pop</div>
                    <div class="track-bpm">95</div>
                    <div class="track-duration">2:22</div>
                    <div class="track-actions">
                        <button class="action-btn action-btn-like" data-track-id="39" onclick="toggleLike(event, 39)">🤍</button>
                        <button class="action-btn action-btn-primary" onclick="addToCart(event, 39)">cart</button>
                        <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 39)">+</button>
                        <button class="action-btn action-btn-download" onclick="downloadTrack(event, 39)">⬇</button>
                    </div>
                </div>

                <div class="alternates-container" id="alternates-ice-skatin">

                    <!-- 15s Version -->
                    <div class="track-item alternate" data-track-id="40" data-download-album="funky-munky" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/mallflex-funky-mondays/mallflex-ice-skatin/mallflex-ice-skatin-15s.mp3">
                        <div class="track-play" onclick="playTrack(event, 40)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/funky-munky.jpg" alt="Funky Munky" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info">
                            <span class="track-title">15s</span>
                        </div>
                        <div class="expand-arrow"></div>
                        <div class="waveform-container" onclick="seekAudio(event, 40)" data-track-id="40">
                            <div class="waveform-progress" id="progress-40"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 50%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 40%"></div>
                                <div class="waveform-bar" style="height: 35%"></div>
                            </div>
                        </div>
                        <div class="track-genre">funk, dance, pop</div>
                        <div class="track-bpm">95</div>
                        <div class="track-duration">0:15</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 40)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 40)">⬇</button>
                        </div>
                    </div>

                    <!-- 30s Version -->
                    <div class="track-item alternate" data-track-id="41" data-download-album="funky-munky" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/mallflex-funky-mondays/mallflex-ice-skatin/mallflex-ice-skatin-30s.mp3">
                        <div class="track-play" onclick="playTrack(event, 41)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/funky-munky.jpg" alt="Funky Munky" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info">
                            <span class="track-title">30s</span>
                        </div>
                        <div class="expand-arrow"></div>
                        <div class="waveform-container" onclick="seekAudio(event, 41)" data-track-id="41">
                            <div class="waveform-progress" id="progress-41"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 50%"></div>
                                <div class="waveform-bar" style="height: 40%"></div>
                            </div>
                        </div>
                        <div class="track-genre">funk, dance, pop</div>
                        <div class="track-bpm">95</div>
                        <div class="track-duration">0:30</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 41)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 41)">⬇</button>
                        </div>
                    </div>

                    <!-- 60s Version -->
                    <div class="track-item alternate" data-track-id="42" data-download-album="funky-munky" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/mallflex-funky-mondays/mallflex-ice-skatin/mallflex-ice-skatin-60s.mp3">
                        <div class="track-play" onclick="playTrack(event, 42)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/funky-munky.jpg" alt="Funky Munky" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info">
                            <span class="track-title">60s</span>
                        </div>
                        <div class="expand-arrow"></div>
                        <div class="waveform-container" onclick="seekAudio(event, 42)" data-track-id="42">
                            <div class="waveform-progress" id="progress-42"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 50%"></div>
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 40%"></div>
                            </div>
                        </div>
                        <div class="track-genre">funk, dance, pop</div>
                        <div class="track-bpm">95</div>
                        <div class="track-duration">1:00</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 42)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 42)">⬇</button>
                        </div>
                    </div>

                </div>
            </div>

            <div class="track-group">
                <div class="track-list">
                    <!-- Main Track -->
                    <div class="track-item main-track has-alternates" data-track-id="6" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-my-love-for-you/buck-moon-my-love-for-you-full-preview.mp3" onclick="toggleAlternates(event, 'alternates-6')" data-use-cases="real estate luxury property video, sunset beach party footage, poolside resort lifestyle video, high-end hotel resort promo, summer sunset time-lapse" data-moods="euphoric, dreamy, sunset vibes, warm, blissful" data-similar-artists="EDX, Kaskade, Embrz, Ben Böhmer, Luttrell" data-energy="medium" data-best-moments="sunset sequences, romantic montage, beach scenes, wind-down moments, emotional buildup">
                        <div class="track-play" onclick="playTrack(event, 6)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info"><span class="track-title">Buck Moon - "My Love For You" <span class="versions-badge">3 versions</span></span></div>
                        <div class="expand-arrow">▼</div>
                        <div class="waveform-container" onclick="seekAudio(event, 6)" data-track-id="6">
                            <div class="waveform-progress" id="progress-6"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 40%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 40%"></div>
                                <div class="waveform-bar" style="height: 30%"></div>
                                <div class="waveform-bar" style="height: 25%"></div>
                            </div>
                        </div>
                        <div class="track-genre">dance, edm, house, pop, indie pop</div>
                        <div class="track-bpm">95</div>
                        <div class="track-duration">3:20</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-like" data-track-id="6" onclick="toggleLike(event, 6)">🤍</button>
                            <button class="action-btn action-btn-primary" onclick="addToCart(event, 6)">cart</button>
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 6)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 6)">⬇</button>
                        </div>
                    </div>

                    <!-- Alternates -->
                    <div class="alternates-container" id="alternates-6">
                        <!-- Alternate 1: Instrumental -->
                        <div class="track-item alternate" data-track-id="22" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-my-love-for-you/buck-moon-my-love-for-you-alternate-instrumental.mp3">
                            <div class="track-play" onclick="playTrack(event, 22)">▶</div>
                            <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Alternate (Instrumental)</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 22)" data-track-id="22">
                                <div class="waveform-progress" id="progress-22"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                </div>
                            </div>
                            <div class="track-genre">dance, edm, house, pop, indie pop</div>
                            <div class="track-bpm">95</div>
                            <div class="track-duration">1:14</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 22)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 22)">⬇</button>
                        </div>
                        </div>

                        <!-- Alternate 2 -->
                        <div class="track-item alternate" data-track-id="23" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-my-love-for-you/buck-moon-my-love-for-you-alternate.mp3">
                            <div class="track-play" onclick="playTrack(event, 23)">▶</div>
                            <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Alternate</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 23)" data-track-id="23">
                                <div class="waveform-progress" id="progress-23"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                </div>
                            </div>
                            <div class="track-genre">dance, edm, house, pop, indie pop</div>
                            <div class="track-bpm">95</div>
                            <div class="track-duration">1:14</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 23)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 23)">⬇</button>
                        </div>
                        </div>

                        <!-- Intro -->
                        <div class="track-item alternate" data-track-id="24" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-my-love-for-you/buck-moon-my-love-for-you-intro.mp3">
                            <div class="track-play" onclick="playTrack(event, 24)">▶</div>
                            <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Intro</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 24)" data-track-id="24">
                                <div class="waveform-progress" id="progress-24"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                </div>
                            </div>
                            <div class="track-genre">dance, edm, house, pop, indie pop</div>
                            <div class="track-bpm">95</div>
                            <div class="track-duration">0:44</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 24)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 24)">⬇</button>
                        </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Buck Moon - Journey On The Radio -->
            <div class="track-group">
                <div class="track-list">
                    <!-- Main Track -->
                    <div class="track-item main-track has-alternates" data-track-id="7" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-journey-on-the-radio/buck-moon-journey-on-the-radio-full-preview.mp3" onclick="toggleAlternates(event, 'alternates-7')" data-use-cases="road trip driving montage, indie film coming-of-age scene, travel documentary, nostalgic flashback sequence, cross-country adventure vlog" data-moods="nostalgic, uplifting, adventurous, heartfelt, cinematic" data-similar-artists="The War on Drugs, M83, MGMT, Phoenix, Tame Impala" data-energy="medium to high" data-best-moments="opening sequence, road trip montage, emotional peak, reflective moments, credits">
                        <div class="track-play" onclick="playTrack(event, 7)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info"><span class="track-title">Buck Moon - "Journey On The Radio" <span class="versions-badge">2 versions</span></span></div>
                        <div class="expand-arrow">▼</div>
                        <div class="waveform-container" onclick="seekAudio(event, 7)" data-track-id="7">
                            <div class="waveform-progress" id="progress-7"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 50%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 90%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 50%"></div>
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 40%"></div>
                                <div class="waveform-bar" style="height: 35%"></div>
                                <div class="waveform-bar" style="height: 30%"></div>
                            </div>
                        </div>
                        <div class="track-genre">indie rock, electronic, indie, nu wave, pop</div>
                        <div class="track-bpm">160</div>
                        <div class="track-duration">2:48</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-like" data-track-id="7" onclick="toggleLike(event, 7)">🤍</button>
                            <button class="action-btn action-btn-primary" onclick="addToCart(event, 7)">cart</button>
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 7)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 7)">⬇</button>
                        </div>
                    </div>

                    <!-- Alternates -->
                    <div class="alternates-container" id="alternates-7">
                        <!-- Alternate -->
                        <div class="track-item alternate" data-track-id="25" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-journey-on-the-radio/buck-moon-journey-on-the-radio-alternate.mp3">
                            <div class="track-play" onclick="playTrack(event, 25)">▶</div>
                            <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Alternate</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 25)" data-track-id="25">
                                <div class="waveform-progress" id="progress-25"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                </div>
                            </div>
                            <div class="track-genre">indie rock, electronic, indie, nu wave, pop</div>
                            <div class="track-bpm">160</div>
                            <div class="track-duration">2:17</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 25)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 25)">⬇</button>
                        </div>
                        </div>

                        <!-- Intro -->
                        <div class="track-item alternate" data-track-id="26" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-journey-on-the-radio/buck-moon-journey-on-the-radio-intro.mp3">
                            <div class="track-play" onclick="playTrack(event, 26)">▶</div>
                            <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Intro</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 26)" data-track-id="26">
                                <div class="waveform-progress" id="progress-26"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                </div>
                            </div>
                            <div class="track-genre">indie rock, electronic, indie, nu wave, pop</div>
                            <div class="track-bpm">160</div>
                            <div class="track-duration">1:33</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 26)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 26)">⬇</button>
                        </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Buck Moon - His & Hers (PLACEHOLDER) -->
            <div class="track-group">
                <div class="track-list">
                    <!-- Main Track -->
                    <div class="track-item main-track has-alternates" data-track-id="8" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-his-&-hers/buck-moon-him-or-her-full-preview.mp3" onclick="toggleAlternates(event, 'alternates-8')" data-use-cases="fashion runway show, beauty cosmetics commercial, lifestyle brand campaign, luxury retail store promo, modern romance film scene" data-moods="sophisticated, sleek, stylish, contemporary, elegant" data-similar-artists="CHVRCHES, Disclosure, Jessie Ware, FKA twigs, Robyn" data-energy="medium to high" data-best-moments="fashion montage, product reveal, opening sequence, stylish transitions, credits">
                        <div class="track-play" onclick="playTrack(event, 8)">▶</div>
                        <div class="track-artwork">
                            <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                        </div>
                        <div class="track-info"><span class="track-title">Buck Moon - "His & Hers" <span class="versions-badge">2 versions</span></span></div>
                        <div class="expand-arrow">▼</div>
                        <div class="waveform-container" onclick="seekAudio(event, 8)" data-track-id="8">
                            <div class="waveform-progress" id="progress-8"></div>
                            <div class="waveform">
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 85%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 80%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 70%"></div>
                                <div class="waveform-bar" style="height: 75%"></div>
                                <div class="waveform-bar" style="height: 65%"></div>
                                <div class="waveform-bar" style="height: 60%"></div>
                                <div class="waveform-bar" style="height: 50%"></div>
                                <div class="waveform-bar" style="height: 55%"></div>
                                <div class="waveform-bar" style="height: 45%"></div>
                                <div class="waveform-bar" style="height: 40%"></div>
                                <div class="waveform-bar" style="height: 35%"></div>
                                <div class="waveform-bar" style="height: 30%"></div>
                                <div class="waveform-bar" style="height: 25%"></div>
                            </div>
                        </div>
                        <div class="track-genre">electronic, indie, pop</div>
                        <div class="track-bpm">120</div>
                        <div class="track-duration">3:00</div>
                        <div class="track-actions">
                            <button class="action-btn action-btn-like" data-track-id="8" onclick="toggleLike(event, 8)">🤍</button>
                            <button class="action-btn action-btn-primary" onclick="addToCart(event, 8)">cart</button>
                            <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 8)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 8)">⬇</button>
                        </div>
                    </div>

                    <!-- Alternates -->
                    <div class="alternates-container" id="alternates-8">
                        <!-- Intro -->
                        <div class="track-item alternate" data-track-id="27" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-his-&-hers/buck-moon-him-or-her-alternate-20.mp3">
                            <div class="track-play" onclick="playTrack(event, 27)">▶</div>
                            <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Alternate (20s)</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 27)" data-track-id="27">
                                <div class="waveform-progress" id="progress-27"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                    <div class="waveform-bar" style="height: 5%"></div>
                                </div>
                            </div>
                            <div class="track-genre">electronic, indie, pop</div>
                            <div class="track-bpm">120</div>
                            <div class="track-duration">0:20</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 27)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 27)">⬇</button>
                        </div>
                        </div>

                        <!-- Alternate 2: 30s -->
                        <div class="track-item alternate" data-track-id="28" data-stream-url="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/audio/primum-electronic/buck-moon-his-&-hers/buck-moon-him-or-her-alternate-30.mp3">
                            <div class="track-play" onclick="playTrack(event, 28)">▶</div>
                            <div class="track-artwork">
                                <img src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Primum Electronic" onerror="this.style.display='none'; this.parentElement.innerHTML='🎵';">
                            </div>
                            <div class="track-info">
                                <span class="track-title">Alternate (30s)</span>
                                
                            </div>
                            <div class="expand-arrow"></div>
                            <div class="waveform-container" onclick="seekAudio(event, 28)" data-track-id="28">
                                <div class="waveform-progress" id="progress-28"></div>
                                <div class="waveform">
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 60%"></div>
                                    <div class="waveform-bar" style="height: 75%"></div>
                                    <div class="waveform-bar" style="height: 85%"></div>
                                    <div class="waveform-bar" style="height: 80%"></div>
                                    <div class="waveform-bar" style="height: 70%"></div>
                                    <div class="waveform-bar" style="height: 65%"></div>
                                    <div class="waveform-bar" style="height: 55%"></div>
                                    <div class="waveform-bar" style="height: 50%"></div>
                                    <div class="waveform-bar" style="height: 45%"></div>
                                    <div class="waveform-bar" style="height: 40%"></div>
                                    <div class="waveform-bar" style="height: 35%"></div>
                                    <div class="waveform-bar" style="height: 30%"></div>
                                    <div class="waveform-bar" style="height: 25%"></div>
                                    <div class="waveform-bar" style="height: 20%"></div>
                                    <div class="waveform-bar" style="height: 15%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                    <div class="waveform-bar" style="height: 10%"></div>
                                </div>
                            </div>
                            <div class="track-genre">electronic, indie, pop</div>
                            <div class="track-bpm">120</div>
                            <div class="track-duration">0:30</div>
                            <div class="track-actions">
                                <button class="action-btn action-btn-playlist" onclick="openPlaylistMenu(event, 28)">+</button>
                            <button class="action-btn action-btn-download" onclick="downloadTrack(event, 28)">⬇</button>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
            </div> <!-- close main-content -->
        </div> <!-- close container -->
    </main>

    <!-- Now Playing Bar -->
    <div class="now-playing-bar" id="nowPlayingBar">

        <!-- Desktop layout (unchanged) -->
        <div class="now-playing-content">
            <div class="now-playing-track-info">
                <div class="now-playing-artwork">
                    <img id="nowPlayingArtwork" src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Album art">
                </div>
                <div class="now-playing-details">
                    <div class="now-playing-title" id="nowPlayingTitle">Select a track to play</div>
                    <div class="now-playing-artist" id="nowPlayingArtist"></div>
                </div>
            </div>
            <div class="now-playing-controls">
                <button class="now-playing-btn" id="nowPlayingPrevBtn" onclick="playPreviousTrack()" title="Previous">⏮</button>
                <button class="now-playing-btn" id="nowPlayingPlayBtn" onclick="togglePlayPause()">▶</button>
                <button class="now-playing-btn" id="nowPlayingNextBtn" onclick="playNextTrackManual()" title="Next">⏭</button>
            </div>
            <div class="now-playing-progress-container">
                <div class="now-playing-time" id="nowPlayingCurrentTime">0:00</div>
                <div class="now-playing-progress-bar" onclick="seekFromPlayer(event)">
                    <div class="now-playing-progress-fill" id="nowPlayingProgressFill"></div>
                </div>
                <div class="now-playing-time" id="nowPlayingDuration">0:00</div>
            </div>
        </div>

        <!-- Mobile mini bar -->
        <div class="now-playing-mini">
            <div class="mini-artwork">
                <img id="miniArtwork" src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Album art">
            </div>
            <div class="mini-info">
                <div class="mini-title" id="miniTitle">Select a track</div>
                <div class="mini-artist" id="miniArtist"></div>
            </div>
            <button class="mini-expand-btn" onclick="openPlayerModal()" title="Expand player">⌃</button>
            <button class="mini-play-btn" id="miniPlayBtn" onclick="togglePlayPause()">▶</button>
        </div>

    </div>

    <!-- Full Player Modal -->
    <div class="player-modal" id="playerModal">
        <div class="player-modal-header">
            <button class="player-modal-close" onclick="closePlayerModal()">⌄</button>
            <span class="player-modal-label">Now Playing</span>
            <button class="player-modal-more">•••</button>
        </div>

        <div class="player-modal-artwork-wrap">
            <img id="playerModalArtwork" src="https://pub-fd4a6646ef594336bc5ad646a65a2625.r2.dev/images/primum-electronic-cover.jpg" alt="Album art">
        </div>

        <div class="player-modal-info">
            <div class="player-modal-title" id="playerModalTitle">Select a track</div>
            <div class="player-modal-artist" id="playerModalArtist"></div>
        </div>

        <div class="player-modal-waveform" id="playerModalWaveform" onclick="seekFromPlayerModal(event)">
            <div class="player-modal-waveform-bars" id="playerModalWaveformBars">
                <!-- 40 bars generated by JS or static fallback -->
            </div>
        </div>
        <div class="player-modal-times">
            <span class="player-modal-time" id="playerModalCurrentTime">0:00</span>
            <span class="player-modal-time" id="playerModalDuration">0:00</span>
        </div>

        <div class="player-modal-controls">
            <button class="player-ctrl-btn" onclick="playPreviousTrack()" title="Previous">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                    <rect x="5" y="5" width="2.5" height="14" rx="1.25"/>
                    <path d="M18.5 5.5 8 12l10.5 6.5z"/>
                </svg>
            </button>
            <button class="player-ctrl-play" id="playerModalPlayBtn" onclick="togglePlayPause()">
                <svg id="playerModalPlayIcon" width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M8 5.5v13l11-6.5z"/>
                </svg>
            </button>
            <button class="player-ctrl-btn" onclick="playNextTrackManual()" title="Next">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                    <rect x="16.5" y="5" width="2.5" height="14" rx="1.25"/>
                    <path d="M5.5 18.5 16 12 5.5 5.5z"/>
                </svg>
            </button>
        </div>
    </div>

    <!-- Footer -->
    <footer style="background: rgba(255, 255, 255, 0.02); border-top: 1px solid rgba(255, 255, 255, 0.08); padding: 32px 0; margin-top: 80px;">
        <div style="max-width: 1400px; margin: 0 auto; padding: 0 32px; text-align: center;">
            <p style="color: rgba(255, 255, 255, 0.5); font-size: 14px; margin-bottom: 16px;">
                © 2026 readysounds. all rights reserved.
            </p>
            <div style="display: flex; gap: 32px; justify-content: center; flex-wrap: wrap;">
                <a href="index.html" style="color: rgba(255, 255, 255, 0.6); text-decoration: none; font-size: 14px; transition: color 0.2s;">browse</a>
                <a href="pricing.html" style="color: rgba(255, 255, 255, 0.6); text-decoration: none; font-size: 14px; transition: color 0.2s;">pricing</a>
                <a href="terms.html" style="color: rgba(255, 255, 255, 0.6); text-decoration: none; font-size: 14px; transition: color 0.2s;">terms & conditions</a>
                <a href="/cdn-cgi/l/email-protection#9af6f3f9fff4e9f3f4fddae8fffbfee3e9f5eff4fee9b4f9f5f7" style="color: rgba(255, 255, 255, 0.6); text-decoration: none; font-size: 14px; transition: color 0.2s;">contact</a>
            </div>
        </div>
    </footer>

    <!-- Cart Modal -->
    <div class="cart-overlay" id="cartOverlay" onclick="closeCart()"></div>
    <div class="cart-modal" id="cartModal">
        <div class="cart-header">
            <h2 class="cart-title">Your Cart</h2>
            <button class="close-cart" onclick="closeCart()">×</button>
        </div>
        
        <div class="cart-content" id="cartContent">
            <div class="cart-empty">
                <div class="cart-empty-icon">🛒</div>
                <p>Your cart is empty</p>
            </div>
        </div>
        
        <div class="cart-footer" id="cartFooter" style="display: none;">
            <div class="cart-total">
                <span>Total:</span>
                <span class="cart-total-amount" id="cartTotal">$0</span>
            </div>
            <button class="checkout-btn" onclick="proceedToCheckout()">Proceed to Checkout</button>
        </div>
    </div>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
        // Filter state
        let activeFilters = {
            genre: [],
            bpm: [],
            mood: [],
            duration: []
        };

        // Toggle filter section dropdown
        function toggleFilterSection(titleElement) {
            const section = titleElement.parentElement;
            section.classList.toggle('collapsed');
        }

        // Toggle filter checkbox
        function toggleFilter(element, category, value) {
            const checkbox = element.querySelector('.filter-checkbox');
            const isChecked = checkbox.classList.contains('checked');
            
            if (isChecked) {
                checkbox.classList.remove('checked');
                activeFilters[category] = activeFilters[category].filter(v => v !== value);
            } else {
                checkbox.classList.add('checked');
                activeFilters[category].push(value);
            }
            
            applyFilters();
        }

        // Clear all filters
        function clearAllFilters() {
            // Reset filter state
            activeFilters = {
                genre: [],
                bpm: [],
                mood: [],
                duration: []
            };
            
            // Uncheck all checkboxes
            document.querySelectorAll('.filter-checkbox').forEach(checkbox => {
                checkbox.classList.remove('checked');
            });
            
            applyFilters();
        }

        // Apply filters to tracks
        function applyFilters() {
            const tracks = document.querySelectorAll('.track-group');
            
            tracks.forEach(track => {
                let shouldShow = true;
                
                // Get track data (you'll need to add data attributes to tracks)
                const trackGenres = track.querySelector('.track-genre')?.textContent.toLowerCase().split(',').map(g => g.trim()) || [];
                const trackBPM = parseInt(track.querySelector('.track-bpm')?.textContent) || 0;
                const trackDuration = track.querySelector('.track-duration')?.textContent || '';
                
                // Filter by genre
                if (activeFilters.genre.length > 0) {
                    const hasMatchingGenre = activeFilters.genre.some(filterGenre => 
                        trackGenres.includes(filterGenre.toLowerCase())
                    );
                    if (!hasMatchingGenre) shouldShow = false;
                }
                
                // Filter by BPM
                if (activeFilters.bpm.length > 0) {
                    const bpmMatch = activeFilters.bpm.some(range => {
                        if (range === '60-90') return trackBPM >= 60 && trackBPM <= 90;
                        if (range === '90-120') return trackBPM > 90 && trackBPM <= 120;
                        if (range === '120-150') return trackBPM > 120 && trackBPM <= 150;
                        if (range === '150+') return trackBPM > 150;
                        return false;
                    });
                    if (!bpmMatch) shouldShow = false;
                }
                
                // Filter by duration
                if (activeFilters.duration.length > 0) {
                    const durationMatch = activeFilters.duration.some(range => {
                        const [minutes, seconds] = trackDuration.split(':').map(Number);
                        const totalSeconds = minutes * 60 + seconds;
                        
                        if (range === 'short') return totalSeconds < 60;
                        if (range === 'medium') return totalSeconds >= 60 && totalSeconds <= 180;
                        if (range === 'long') return totalSeconds > 180;
                        return false;
                    });
                    if (!durationMatch) shouldShow = false;
                }
                
                // Show/hide track
                track.style.display = shouldShow ? 'block' : 'none';
            });
        }

        // Audio player
        let currentAudio = null;
        let currentPlayButton = null;
        let currentTrackId = null;
        let cart = [];
        
        // Track data (you'll expand this when adding more songs)
        const trackData = {
            1: {
                title: 'Buck Moon - "Go, Now"',
                duration: '1:09'
            },
            2: {
                title: 'Buck Moon - "Go, Now" (Intro + Main)',
                duration: '0:27'
            },
            3: {
                title: 'Buck Moon - "Go, Now" (Outro Synth and Strings)',
                duration: '0:27'
            },
            4: {
                title: 'Buck Moon - "Super Things"',
                duration: '4:00'
            },
            5: {
                title: 'Buck Moon - "Super Things" (Breakdown)',
                duration: '1:08'
            },
            6: {
                title: 'Buck Moon - "Super Things" (Intro)',
                duration: '1:12'
            },
            7: {
                title: 'Buck Moon - "Super Things" (Main Beat)',
                duration: '1:00'
            },
            8: {
                title: 'Buck Moon - "Super Things" (Outro)',
                duration: '1:15'
            },
            9: {
                title: 'Buck Moon - "Give Me Your Energy"',
                artist: 'ready sounds',
                duration: '3:12'
            },
            10: {
                title: 'Buck Moon - "Give Me Your Energy" (Intro)',
                artist: 'ready sounds',
                duration: '1:08'
            },
            11: {
                title: 'Buck Moon - "Give Me Your Energy" (Breakdown)',
                artist: 'ready sounds',
                duration: '1:25'
            },
            12: {
                title: 'Buck Moon - "Snow"',
                artist: 'ready sounds',
                duration: '5:18'
            },
            13: {
                title: 'Buck Moon - "Snow" (Intro)',
                artist: 'ready sounds',
                duration: '1:07'
            },
            14: {
                title: 'Buck Moon - "Snow" (Breakdown)',
                artist: 'ready sounds',
                duration: '1:05'
            },
            15: {
                title: 'Buck Moon - "Snow" (Club Beat)',
                artist: 'ready sounds',
                duration: '1:03'
            },
            16: {
                title: 'Buck Moon - "Snow" (Final Beat)',
                artist: 'ready sounds',
                duration: '2:10'
            },
            17: {
                title: 'Buck Moon - "Swell"',
                artist: 'ready sounds',
                duration: '3:36'
            },
            18: {
                title: 'Buck Moon - "Swell" (Intro)',
                artist: 'ready sounds',
                duration: '0:24'
            },
            19: {
                title: 'Buck Moon - "Swell" (Breakdown)',
                artist: 'ready sounds',
                duration: '0:24'
            },
            20: {
                title: 'Buck Moon - "Swell" (Bridge)',
                artist: 'ready sounds',
                duration: '0:43'
            },
            21: {
                title: 'Buck Moon - "Swell" (Main Beat)',
                artist: 'ready sounds',
                duration: '0:46'
            },
            22: {
                title: 'Crane Flight - "I\'ll Be There"',
                artist: 'ready sounds',
                duration: '2:21'
            },
            23: {
                title: 'Buck Moon - "Airborne"',
                artist: 'ready sounds',
                duration: '2:45'
            },
            24: {
                title: 'Buck Moon - "Spin My World"',
                artist: 'ready sounds',
                duration: '3:40'
            },
            25: {
                title: 'Crane Flight - "I\'ll Be There" (15s)',
                artist: 'ready sounds',
                duration: '0:15'
            },
            26: {
                title: 'Crane Flight - "I\'ll Be There" (30s)',
                artist: 'ready sounds',
                duration: '0:30'
            },
            27: {
                title: 'Crane Flight - "I\'ll Be There" (60s)',
                artist: 'ready sounds',
                duration: '1:00'
            },
            28: {
                title: 'Buck Moon - "Spin My World" (Alternate)',
                artist: 'ready sounds',
                duration: '0:50'
            },
            29: {
                title: 'Buck Moon - "Spin My World" (Bridge)',
                artist: 'ready sounds',
                duration: '0:47'
            },
            30: {
                title: 'Buck Moon - "Spin My World" (Chorus)',
                artist: 'ready sounds',
                duration: '0:41'
            },
            31: {
                title: 'Buck Moon - "Airborne" (30s)',
                artist: 'ready sounds',
                duration: '0:30'
            },
            32: {
                title: 'Buck Moon - "Airborne" (60s)',
                artist: 'ready sounds',
                duration: '1:00'
            },
            33: {
                title: 'Buck Moon - "Airborne" (30s v2)',
                artist: 'ready sounds',
                duration: '0:30'
            },
            34: {
                title: 'Buck Moon - "Airborne" (30s v3)',
                artist: 'ready sounds',
                duration: '0:30'
            },
            35: {
                title: 'Buck Moon - "Airborne" (30s v4)',
                artist: 'ready sounds',
                duration: '0:30'
            },
            36: {
                title: 'Buck Moon - "Airborne" (30s v5)',
                artist: 'ready sounds',
                duration: '0:30'
            },
            37: {
                title: 'Buck Moon - "Airborne" (60s v2)',
                artist: 'ready sounds',
                duration: '1:00'
            },
            38: {
                title: 'Buck Moon - "Airborne" (60s v3)',
                artist: 'ready sounds',
                duration: '1:00'
            },
            39: {
                title: 'MallFlex - "Ice Skatin\'"',
                artist: 'ready sounds',
                duration: '2:22'
            },
            40: { title: 'MallFlex - "Ice Skatin\'" (15s)', duration: '0:15' },
            41: { title: 'MallFlex - "Ice Skatin\'" (30s)', duration: '0:30' },
            42: { title: 'MallFlex - "Ice Skatin\'" (60s)', duration: '1:00' }
        };

        // Open cart
        function openCart() {
            document.getElementById('cartModal').classList.add('open');
            document.getElementById('cartOverlay').classList.add('open');
            document.body.style.overflow = 'hidden';
            renderCart();
        }

        // Close cart
        function closeCart() {
            document.getElementById('cartModal').classList.remove('open');
            document.getElementById('cartOverlay').classList.remove('open');
            document.body.style.overflow = 'auto';
        }

        // Add to cart
        function addToCart(event, trackId) {
            event.stopPropagation();
            
            // Check if already in cart
            const existingItem = cart.find(item => item.trackId === trackId);
            if (existingItem) {
                alert('This track is already in your cart');
                return;
            }
            
            // Add to cart with default Individual license
            cart.push({
                trackId: trackId,
                license: 'individual',
                price: 10
            });
            
            updateCartCount();
            
            // Show feedback
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = '✓ added';
            button.style.background = 'rgba(76, 175, 80, 0.2)';
            button.style.borderColor = 'rgba(76, 175, 80, 0.5)';
            
            setTimeout(() => {
                button.textContent = originalText;
                button.style.background = '';
                button.style.borderColor = '';
            }, 1500);
        }

        // Remove from cart
        function removeFromCart(trackId) {
            cart = cart.filter(item => item.trackId !== trackId);
            updateCartCount();
            renderCart();
        }

        // Change license type
        function changeLicense(trackId, license) {
            const item = cart.find(item => item.trackId === trackId);
            if (item) {
                item.license = license;
                item.price = license === 'individual' ? 10 : 125;
                renderCart();
            }
        }

        // Update cart count in header
        function updateCartCount() {
            document.getElementById('cartBtn').textContent = `cart (${cart.length})`;
        }

        // Render cart contents
        function renderCart() {
            const cartBody = document.getElementById('cartBody');
            const cartFooter = document.getElementById('cartFooter');
            
            if (cart.length === 0) {
                cartBody.innerHTML = `
                    <div class="cart-empty">
                        <div class="cart-empty-icon">🛒</div>
                        <p>Your cart is empty</p>
                    </div>
                `;
                cartFooter.style.display = 'none';
                return;
            }
            
            // Render cart items
            let cartHTML = '';
            let total = 0;
            
            cart.forEach(item => {
                total += item.price;
                
                cartHTML += `
                    <div class="cart-item">
                        <div class="cart-item-header">
                            <div class="cart-item-info">
                                <div class="cart-item-title">${item.title}</div>
                                <div class="cart-item-artist">${item.artist || 'Buck Moon'}</div>
                            </div>
                            <button class="cart-item-remove" onclick="removeFromCart(${item.id})" title="Remove from cart">×</button>
                        </div>
                        
                        <div class="cart-item-license">
                            <div class="license-label">License Type</div>
                            <div class="license-options">
                                <button class="license-btn ${item.license === 'individual' ? 'active' : ''}" 
                                        onclick="changeLicense(${item.id}, 'individual')">
                                    Individual
                                    <span class="license-price">$10</span>
                                </button>
                                <button class="license-btn ${item.license === 'business' ? 'active' : ''}" 
                                        onclick="changeLicense(${item.id}, 'business')">
                                    Business
                                    <span class="license-price">$125</span>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            cartBody.innerHTML = cartHTML;
            document.getElementById('cartTotal').textContent = `$${total}`;
            cartFooter.style.display = 'block';
        }

        // Checkout
        async function checkout() {
            if (cart.length === 0) return;
            
            try {
                // Prepare line items for Stripe
                const items = cart.map(item => ({
                    trackId: item.id,
                    trackTitle: item.title,
                    license: item.license,
                    price: item.price
                }));
                
                // Call backend to create a Stripe Checkout session
                const response = await fetch('/api/create-checkout-session', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        items: items,
                        mode: 'payment' // one-time payment for à la carte
                    })
                });
                
                const session = await response.json();
                
                if (session.error) {
                    alert('Checkout error: ' + session.error);
                    return;
                }
                
                // Redirect to Stripe Checkout
                const stripe = Stripe('pk_live_51Ss8KQRzfMLCjnGKS8LlJqJNO3mlbehpSo19N1E6c8WhBqKCP5KvdbC8APag5Fp8jQ0pW6Bk9oSWaoXFdodwgS5X00HmOqYDwn');
                const result = await stripe.redirectToCheckout({
                    sessionId: session.id
                });
                
                if (result.error) {
                    alert('Payment error: ' + result.error.message);
                }
            } catch (error) {
                console.error('Checkout error:', error);
                alert('Unable to process checkout. Please try again.');
            }
        }

        // Initialize cart button click handler
        document.getElementById('cartBtn').addEventListener('click', openCart);

        // Cart functions
        function openCart() {
            document.getElementById('cartModal').classList.add('open');
            document.getElementById('cartOverlay').classList.add('visible');
            renderCart();
        }

        function closeCart() {
            document.getElementById('cartModal').classList.remove('open');
            document.getElementById('cartOverlay').classList.remove('visible');
        }

        function updateCartCount() {
            const cartBtn = document.getElementById('cartBtn');
            if (cart.length > 0) {
                cartBtn.innerHTML = `Cart <span class="cart-count">${cart.length}</span>`;
            } else {
                cartBtn.innerHTML = 'Cart (0)';
            }
        }

        function addToCart(event, trackId) {
            event.stopPropagation();
            
            // Get track info from the DOM
            const trackElement = event.target.closest('.track-item');
            if (!trackElement) {
                console.error('Could not find track element');
                return;
            }
            
            const titleElement = trackElement.querySelector('.track-title');
            if (!titleElement) {
                console.error('Could not find track title');
                return;
            }
            
            // Get title and clean up the versions badge
            let title = titleElement.textContent.trim();
            title = title.replace(/\d+\s+versions?/i, '').trim();
            
            // Extract artist from title (format is "Artist - Track")
            const parts = title.split(' - ');
            const artist = parts.length > 1 ? parts[0].trim() : 'Buck Moon';
            
            // Check if already in cart
            const existingItem = cart.find(item => item.id === trackId);
            if (existingItem) {
                alert('This track is already in your cart!');
                return;
            }
            
            // Add to cart with default Individual license
            cart.push({
                id: trackId,
                title: title,
                artist: artist,
                license: 'individual',
                price: 10
            });
            
            updateCartCount();
            
            // Show feedback on the button
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = '✓ Added';
            btn.style.background = '#4caf50';
            setTimeout(() => {
                btn.textContent = originalText;
                btn.style.background = '';
            }, 1500);
        }

        function removeFromCart(trackId) {
            cart = cart.filter(item => item.id !== trackId);
            updateCartCount();
            renderCart();
        }

        function changeLicense(trackId, licenseType) {
            const item = cart.find(item => item.id === trackId);
            if (item) {
                item.license = licenseType;
                item.price = licenseType === 'individual' ? 10 : 125;
                renderCart();
            }
        }

        async function proceedToCheckout() {
            if (cart.length === 0) return;
            
            const total = cart.reduce((sum, item) => sum + item.price, 0);
            
            // Prepare line items for Stripe
            const lineItems = cart.map(item => ({
                trackId: item.trackId,
                trackTitle: trackData[item.trackId].title,
                license: item.license,
                price: item.price
            }));
            
            try {
                // Call your backend to create a Stripe Checkout session
                const response = await fetch('/api/create-checkout-session', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        items: lineItems,
                        mode: 'payment' // one-time payment for à la carte
                    })
                });
                
                const session = await response.json();
                
                // Redirect to Stripe Checkout
                const stripe = Stripe('pk_live_51Ss8KQRzfMLCjnGKS8LlJqJNO3mlbehpSo19N1E6c8WhBqKCP5KvdbC8APag5Fp8jQ0pW6Bk9oSWaoXFdodwgS5X00HmOqYDwn'); // Replace with your actual key
                const result = await stripe.redirectToCheckout({
                    sessionId: session.id
                });
                
                if (result.error) {
                    alert('Payment error: ' + result.error.message);
                }
            } catch (error) {
                console.error('Checkout error:', error);
                alert('Unable to process checkout. Please try again.');
            }
        }

        // Cart button click
        document.getElementById('cartBtn').addEventListener('click', openCart);

        // ── Player helpers ──
        const formatTime = (seconds) => {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        };

        // Build 40 waveform bars in the modal (randomised heights, re-used each play)
        function buildModalWaveform() {
            const container = document.getElementById('playerModalWaveformBars');
            if (!container || container.children.length > 0) return;
            const heights = [30,45,60,75,85,70,55,65,80,90,85,70,60,50,40,35,45,60,75,85,80,65,55,45,35,30,40,55,70,80,75,60,50,40,30,35,50,65,75,80];
            container.innerHTML = heights.map(h =>
                `<div class="player-modal-waveform-bar" style="height:${h}%"></div>`
            ).join('');
        }

        // Update waveform bar colouring based on progress %
        function updateModalWaveform(percent) {
            const bars = document.querySelectorAll('.player-modal-waveform-bar');
            const playedCount = Math.round((percent / 100) * bars.length);
            bars.forEach((bar, i) => {
                bar.classList.toggle('played', i < playedCount);
            });
        }

        // SVG paths for the modal play/pause icon
        const SVG_PLAY  = '<path d="M8 5.5v13l11-6.5z"/>';
        const SVG_PAUSE = '<rect x="6" y="5" width="4" height="14" rx="1.5"/><rect x="14" y="5" width="4" height="14" rx="1.5"/>';

        // Sync all play buttons to a given state
        function syncPlayButtons(playing) {
            const desktopBtn = document.getElementById('nowPlayingPlayBtn');
            const miniBtn    = document.getElementById('miniPlayBtn');
            const modalIcon  = document.getElementById('playerModalPlayIcon');
            // Desktop bar and mini bar use text (small size, text is fine)
            if (desktopBtn) desktopBtn.textContent = playing ? '⏸' : '▶';
            if (miniBtn)    miniBtn.textContent    = playing ? '⏸' : '▶';
            // Modal uses sharp SVG
            if (modalIcon) modalIcon.innerHTML = playing ? SVG_PAUSE : SVG_PLAY;
        }

        // Update Now Playing Bar (desktop + mini + modal)
        function updateNowPlayingBar(trackId) {
            const track    = trackData[trackId];
            const playerBar = document.getElementById('nowPlayingBar');

            // Grab artwork from the playing track's DOM element
            const trackEl  = document.querySelector(`.track-item[data-track-id="${trackId}"]`);
            const artSrc   = trackEl ? (trackEl.querySelector('.track-artwork img')?.src || '') : '';

            if (track) {
                // Desktop
                document.getElementById('nowPlayingTitle').textContent  = track.title;
                document.getElementById('nowPlayingArtist').textContent = track.artist || 'readysounds';
                const desktopArt = document.getElementById('nowPlayingArtwork');
                if (desktopArt && artSrc) desktopArt.src = artSrc;

                // Mini bar
                document.getElementById('miniTitle').textContent  = track.title;
                document.getElementById('miniArtist').textContent = track.artist || 'readysounds';
                const miniArt = document.getElementById('miniArtwork');
                if (miniArt && artSrc) miniArt.src = artSrc;

                // Full player modal
                document.getElementById('playerModalTitle').textContent  = track.title;
                document.getElementById('playerModalArtist').textContent = track.artist || 'readysounds';
                const modalArt = document.getElementById('playerModalArtwork');
                if (modalArt && artSrc) modalArt.src = artSrc;

                playerBar.classList.add('visible');
                buildModalWaveform();
            }

            syncPlayButtons(currentAudio && !currentAudio.paused);
        }

        // Toggle play/pause from any button
        function togglePlayPause() {
            if (currentAudio) {
                if (currentAudio.paused) {
                    currentAudio.play();
                    syncPlayButtons(true);
                    if (currentPlayButton) currentPlayButton.textContent = '⏸';
                } else {
                    currentAudio.pause();
                    syncPlayButtons(false);
                    if (currentPlayButton) currentPlayButton.textContent = '▶';
                }
            }
        }

        // Seek from desktop player bar
        function seekFromPlayer(event) {
            if (!currentAudio) return;
            const bar  = event.currentTarget;
            const rect = bar.getBoundingClientRect();
            currentAudio.currentTime = ((event.clientX - rect.left) / rect.width) * currentAudio.duration;
        }

        // Seek from full player modal waveform
        function seekFromPlayerModal(event) {
            if (!currentAudio) return;
            const waveform = document.getElementById('playerModalWaveform');
            const rect     = waveform.getBoundingClientRect();
            const percent  = Math.max(0, Math.min(1, (event.clientX - rect.left) / rect.width));
            currentAudio.currentTime = percent * currentAudio.duration;
        }

        // Update all progress indicators
        function updatePlayerProgress() {
            if (currentAudio && currentTrackId && !isNaN(currentAudio.duration)) {
                const percent = (currentAudio.currentTime / currentAudio.duration) * 100;
                const curFmt  = formatTime(currentAudio.currentTime);
                const durFmt  = formatTime(currentAudio.duration);

                // Desktop bar
                const fill = document.getElementById('nowPlayingProgressFill');
                if (fill) fill.style.width = percent + '%';
                const ct = document.getElementById('nowPlayingCurrentTime');
                if (ct) ct.textContent = curFmt;
                const dt = document.getElementById('nowPlayingDuration');
                if (dt) dt.textContent = durFmt;

                // Modal
                document.getElementById('playerModalCurrentTime').textContent = curFmt;
                document.getElementById('playerModalDuration').textContent    = durFmt;
                updateModalWaveform(percent);
            }
        }

        // Open / close full player modal
        function openPlayerModal() {
            const modal = document.getElementById('playerModal');
            modal.classList.add('open');
            document.body.style.overflow = 'hidden';
            buildModalWaveform();
        }
        function closePlayerModal() {
            document.getElementById('playerModal').classList.remove('open');
            document.body.style.overflow = '';
        }

        // Add-to-playlist from inside the modal
        function openPlaylistMenuFromModal() {
            if (currentTrackId) {
                closePlayerModal();
                // Trigger the regular playlist menu for the current track
                const trackEl = document.querySelector(`.track-item[data-track-id="${currentTrackId}"]`);
                const plusBtn = trackEl ? trackEl.querySelector('.action-btn-playlist') : null;
                if (plusBtn) plusBtn.click();
            }
        }

        // Favourite toggle from modal
        function toggleFavoriteFromModal() {
            if (!currentTrackId) return;
            const btn = document.getElementById('playerModalFavBtn');
            const isFav = btn.classList.contains('active');
            if (isFav) {
                btn.classList.remove('active');
                btn.textContent = '♡';
                removeFromFavorites && removeFromFavorites(currentTrackId);
            } else {
                btn.classList.add('active');
                btn.textContent = '♥';
                addToFavorites && addToFavorites(currentTrackId);
            }
        }

        // Toggle alternates visibility
        function toggleAlternates(event, alternatesId) {
            // Don't toggle if clicking on play button or action buttons
            if (event.target.closest('.track-play') || event.target.closest('.action-btn') || event.target.closest('.waveform-container')) {
                return;
            }
            
            const alternatesContainer = document.getElementById(alternatesId);
            const mainTrack = event.currentTarget;
            
            alternatesContainer.classList.toggle('expanded');
            mainTrack.classList.toggle('expanded');
        }

        // Seek audio by clicking on waveform
        function seekAudio(event, trackId) {
            event.stopPropagation();
            
            const waveformContainer = event.currentTarget;
            const rect = waveformContainer.getBoundingClientRect();
            const clickX = event.clientX - rect.left;
            const percentClicked = clickX / rect.width;
            
            // If this track is playing, seek to position
            if (currentAudio && currentTrackId === trackId) {
                currentAudio.currentTime = currentAudio.duration * percentClicked;
            } else {
                // Start playing from clicked position
                const trackItem = waveformContainer.closest('.track-item');
                const playButton = trackItem.querySelector('.track-play');
                playTrack({ target: playButton, stopPropagation: () => {} }, trackId);
                
                // Wait a bit for audio to load, then seek
                setTimeout(() => {
                    if (currentAudio && !isNaN(currentAudio.duration)) {
                        currentAudio.currentTime = currentAudio.duration * percentClicked;
                    }
                }, 100);
            }
        }

        // Update waveform progress
        function updateProgress() {
            if (currentAudio && currentTrackId) {
                const progressBar = document.getElementById(`progress-${currentTrackId}`);
                if (progressBar && !isNaN(currentAudio.duration)) {
                    const percent = (currentAudio.currentTime / currentAudio.duration) * 100;
                    progressBar.style.width = percent + '%';
                }
                
                // Update player bar progress
                updatePlayerProgress();
            }
            requestAnimationFrame(updateProgress);
        }

        // Start progress animation
        requestAnimationFrame(updateProgress);

        // Manual next track (from button)
        function playNextTrackManual() {
            if (currentTrackId) {
                playNextTrack(currentTrackId);
            }
        }

        // Play previous track
        function playPreviousTrack() {
            if (!currentTrackId) return;
            
            // Get all main tracks (not alternates)
            const mainTracks = Array.from(document.querySelectorAll('.track-item.main-track'));
            
            // Find current track index
            let currentIndex = -1;
            for (let i = 0; i < mainTracks.length; i++) {
                const trackId = parseInt(mainTracks[i].getAttribute('data-track-id'));
                if (trackId === currentTrackId) {
                    currentIndex = i;
                    break;
                }
            }
            
            // Play previous track if exists
            if (currentIndex > 0) {
                const prevTrack = mainTracks[currentIndex - 1];
                const playButton = prevTrack.querySelector('.track-play');
                
                if (playButton) {
                    playButton.click();
                }
            }
        }

        // Auto-play next track function
        function playNextTrack(currentTrackId) {
            // Get all main tracks (not alternates)
            const mainTracks = Array.from(document.querySelectorAll('.track-item.main-track'));
            
            // Find current track index
            let currentIndex = -1;
            for (let i = 0; i < mainTracks.length; i++) {
                const trackId = parseInt(mainTracks[i].getAttribute('data-track-id'));
                if (trackId === currentTrackId) {
                    currentIndex = i;
                    break;
                }
            }
            
            // Play next track if exists
            if (currentIndex >= 0 && currentIndex < mainTracks.length - 1) {
                const nextTrack = mainTracks[currentIndex + 1];
                const nextTrackId = parseInt(nextTrack.getAttribute('data-track-id'));
                const playButton = nextTrack.querySelector('.track-play');
                
                if (playButton) {
                    // Small delay for smooth transition
                    setTimeout(() => {
                        playButton.click();
                    }, 500);
                }
            } else {
                // Reached end of playlist - reset player
                syncPlayButtons(false);
                currentAudio = null;
                currentPlayButton = null;
                currentTrackId = null;
            }
        }

        // Play track
        function playTrack(event, trackId) {
            event.stopPropagation();
            const button = event.target;
            const item = button.closest('.track-item');
            const streamUrl = item.getAttribute('data-stream-url');
            
            // Toggle play/pause for same track
            if (currentAudio && currentPlayButton === button) {
                if (currentAudio.paused) {
                    currentAudio.play();
                    button.textContent = '⏸';
                } else {
                    currentAudio.pause();
                    button.textContent = '▶';
                }
                return;
            }
            
            // Stop current audio and reset progress
            if (currentAudio) {
                currentAudio.pause();
                if (currentTrackId) {
                    const oldProgress = document.getElementById(`progress-${currentTrackId}`);
                    if (oldProgress) oldProgress.style.width = '0%';
                }
                currentAudio = null;
            }
            
            // Reset all buttons
            document.querySelectorAll('.track-play').forEach(btn => btn.textContent = '▶');
            
            // Play new track
            if (streamUrl) {
                currentAudio = new Audio(streamUrl);
                currentTrackId = trackId;
                currentAudio.play().catch(err => {
                    console.error('Audio playback error:', err);
                    alert('Unable to play audio. Error: ' + err.message + '\n\nCheck browser console for details.');
                });
                button.textContent = '⏸';
                currentPlayButton = button;
                
                // Update player bar
                updateNowPlayingBar(trackId);
                
                currentAudio.onended = function() {
                    button.textContent = '▶';
                    syncPlayButtons(false);
                    const progressBar = document.getElementById(`progress-${trackId}`);
                    if (progressBar) progressBar.style.width = '0%';
                    const fill = document.getElementById('nowPlayingProgressFill');
                    if (fill) fill.style.width = '0%';
                    updateModalWaveform(0);

                    // Auto-play next main track
                    playNextTrack(trackId);
                };
            } else {
                alert('Preview not available');
            }
        }

        // Playlist Management
        let userPlaylists = [];  // Will store playlists from Supabase
        
        // Load user playlists from Supabase
        async function loadUserPlaylists() {
            try {
                // Check if Supabase is initialized
                if (!supabaseClient) {
                    console.log('Supabase not initialized yet, skipping playlist load');
                    return;
                }
                
                const { data: { user } } = await supabaseClient.auth.getUser();
                if (!user) {
                    userPlaylists = [];
                    return;
                }
                
                const { data, error } = await supabaseClient
                    .from('user_playlists')
                    .select('*')
                    .eq('user_id', user.id)
                    .order('created_at', { ascending: false });
                
                if (error) {
                    console.error('Error loading playlists:', error);
                    userPlaylists = [];
                    return;
                }
                
                userPlaylists = data || [];
                console.log('Loaded user playlists:', userPlaylists);
            } catch (err) {
                console.error('Error loading playlists:', err);
                userPlaylists = [];
            }
        }
        
        let currentPlaylistMenu = null;
        let currentPlaylistTrackId = null;
        
        async function openPlaylistMenu(event, trackId) {
            event.stopPropagation();
            
            // Check if user is logged in
            const loggedIn = await isUserLoggedIn();
            if (!loggedIn) {
                showLoginPrompt('create playlists');
                return;
            }
            
            // Close any open menu
            if (currentPlaylistMenu) {
                currentPlaylistMenu.remove();
            }
            
            // Load playlists if not loaded
            if (userPlaylists.length === 0) {
                await loadUserPlaylists();
            }
            
            currentPlaylistTrackId = trackId;
            const button = event.target;
            const actionsContainer = button.closest('.track-actions');
            
            // Create menu
            const menu = document.createElement('div');
            menu.className = 'playlist-menu open';
            
            // Create New Playlist option
            const createNew = document.createElement('div');
            createNew.className = 'playlist-menu-item create-new';
            createNew.textContent = '+ Create New Playlist';
            createNew.onclick = (e) => {
                e.stopPropagation();
                createNewPlaylist(trackId);
            };
            menu.appendChild(createNew);
            
            // List existing user playlists
            userPlaylists.forEach(playlist => {
                const item = document.createElement('div');
                item.className = 'playlist-menu-item';
                
                const trackIds = playlist.track_ids || [];
                const isInPlaylist = trackIds.includes(trackId);
                if (isInPlaylist) {
                    item.classList.add('in-playlist');
                    item.textContent = `✓ ${playlist.name}`;
                } else {
                    item.textContent = playlist.name;
                }
                
                item.onclick = (e) => {
                    e.stopPropagation();
                    toggleTrackInPlaylist(trackId, playlist.id);
                };
                menu.appendChild(item);
            });
            
            // Show message if no playlists
            if (userPlaylists.length === 0) {
                const emptyMsg = document.createElement('div');
                emptyMsg.className = 'playlist-menu-item';
                emptyMsg.style.color = '#888';
                emptyMsg.style.fontStyle = 'italic';
                emptyMsg.textContent = 'No playlists yet';
                menu.appendChild(emptyMsg);
            }
            
            actionsContainer.style.position = 'relative';
            actionsContainer.appendChild(menu);
            currentPlaylistMenu = menu;
        }
        
        async function createNewPlaylist(trackId) {
            const name = prompt('Enter playlist name:');
            if (!name || !name.trim()) return;
            
            const playlistName = name.trim();
            
            try {
                const { data: { user } } = await supabaseClient.auth.getUser();
                if (!user) {
                    alert('Please log in to create playlists');
                    return;
                }
                
                // Create playlist in Supabase
                const { data, error } = await supabaseClient
                    .from('user_playlists')
                    .insert([
                        {
                            user_id: user.id,
                            name: playlistName,
                            track_ids: [trackId]
                        }
                    ])
                    .select();
                
                if (error) {
                    console.error('Error creating playlist:', error);
                    alert('Failed to create playlist');
                    return;
                }
                
                // Close menu
                if (currentPlaylistMenu) {
                    currentPlaylistMenu.remove();
                    currentPlaylistMenu = null;
                }
                
                // Reload user playlists
                await loadUserPlaylists();
                
                alert(`Created playlist "${playlistName}" and added track!`);
            } catch (err) {
                console.error('Error:', err);
                alert('Failed to create playlist');
            }
        }
        
        async function toggleTrackInPlaylist(trackId, playlistId) {
            try {
                // Get the playlist
                const { data: playlist, error: fetchError } = await supabaseClient
                    .from('user_playlists')
                    .select('*')
                    .eq('id', playlistId)
                    .single();
                
                if (fetchError) {
                    console.error('Error fetching playlist:', fetchError);
                    return;
                }
                
                let trackIds = playlist.track_ids || [];
                const index = trackIds.indexOf(trackId);
                
                if (index > -1) {
                    // Remove from playlist
                    trackIds.splice(index, 1);
                } else {
                    // Add to playlist
                    trackIds.push(trackId);
                }
                
                // Update playlist
                const { error: updateError } = await supabaseClient
                    .from('user_playlists')
                    .update({ track_ids: trackIds })
                    .eq('id', playlistId);
                
                if (updateError) {
                    console.error('Error updating playlist:', updateError);
                    return;
                }
                
                // Close menu
                if (currentPlaylistMenu) {
                    currentPlaylistMenu.remove();
                    currentPlaylistMenu = null;
                }
                
                // Reload playlists
                await loadUserPlaylists();
                
            } catch (err) {
                console.error('Error:', err);
            }
        }
        
        function updatePlaylistButton(trackId, button) {
            // Check if track is in any playlist
            const isInAnyPlaylist = Object.values(playlists).some(tracks => tracks.includes(trackId));
            if (isInAnyPlaylist) {
                button.classList.add('in-playlist');
            } else {
                button.classList.remove('in-playlist');
            }
        }
        
        // Initialize playlist buttons on page load
        document.addEventListener('DOMContentLoaded', function() {
            Object.values(playlists).forEach(tracks => {
                tracks.forEach(trackId => {
                    const buttons = document.querySelectorAll(`[onclick*="openPlaylistMenu(event, ${trackId})"]`);
                    buttons.forEach(btn => updatePlaylistButton(trackId, btn));
                });
            });
        });
        
        // Mobile track menu (more button)
        function openTrackMenu(event, trackId) {
            event.stopPropagation();
            
            // For now, just show an alert with options
            // TODO: Create a proper bottom sheet menu
            const options = [
                'Like',
                'Add to Playlist', 
                'Download'
            ];
            
            // Simple implementation - you can enhance this with a proper modal later
            const choice = prompt('Choose an action:\n\n1. Like\n2. Add to Playlist\n3. Download\n\nEnter number (1-3):');
            
            if (choice === '1') {
                toggleLike(event, trackId);
            } else if (choice === '2') {
                openPlaylistMenu(event, trackId);
            } else if (choice === '3') {
                downloadTrack(event, trackId);
            }
        }
        
        // Track current download request
        let currentDownloadTrackId = null;
        let currentDownloadTrackInfo = null;
        
        // Check if user has active subscription
        async function hasActiveSubscription() {
            try {
                // Get current user
                const { data: { user }, error: userError } = await supabaseClient.auth.getUser();
                
                if (userError || !user) {
                    console.log('No user logged in');
                    return false;
                }
                
                // Query the profiles table for subscription status
                const { data: profile, error: profileError } = await supabaseClient
                    .from('profiles')
                    .select('subscription_status, subscription_plan')
                    .eq('email', user.email)
                    .single();
                
                if (profileError) {
                    console.error('Error fetching profile:', profileError);
                    return false;
                }
                
                // Check if subscription is active
                if (profile && profile.subscription_status === 'active') {
                    console.log('User has active subscription:', profile.subscription_plan);
                    return true;
                }
                
                console.log('No active subscription found');
                return false;
            } catch (error) {
                console.error('Error checking subscription:', error);
                return false;
            }
        }
        
        // Download Track Function
        async function downloadTrack(event, trackId) {
            event.stopPropagation();
            
            // Check if user is logged in
            const loggedIn = await isUserLoggedIn();
            if (!loggedIn) {
                showLoginPrompt('download tracks');
                return;
            }
            
            // Check if user has active subscription
            const hasSubscription = await hasActiveSubscription();
            
            if (hasSubscription) {
                // User has subscription - show download options modal
                showDownloadOptions(trackId);
                return;
            }
            
            // No subscription - show the purchase modal
            // Store the track ID and info for the cart button in the modal
            currentDownloadTrackId = trackId;
            
            // Get track info from DOM
            const trackElement = event.target.closest('.track-item');
            if (trackElement) {
                const titleElement = trackElement.querySelector('.track-title');
                if (titleElement) {
                    let title = titleElement.textContent.trim();
                    title = title.replace(/\d+\s+versions?/i, '').trim();
                    const parts = title.split(' - ');
                    const artist = parts.length > 1 ? parts[0].trim() : 'Buck Moon';
                    
                    currentDownloadTrackInfo = {
                        id: trackId,
                        title: title,
                        artist: artist
                    };
                }
            }
            
            // Show the download prompt modal
            showDownloadPrompt();
        }
        
        // Show download prompt modal
        function showDownloadPrompt() {
            const overlay = document.getElementById('downloadOverlay');
            const modal = document.getElementById('downloadModal');
            overlay.classList.add('visible');
            setTimeout(() => {
                modal.classList.add('visible');
            }, 10);
        }
        
        // Close download prompt modal
        function closeDownloadPrompt() {
            const overlay = document.getElementById('downloadOverlay');
            const modal = document.getElementById('downloadModal');
            modal.classList.remove('visible');
            setTimeout(() => {
                overlay.classList.remove('visible');
            }, 300);
        }
        
        // Show download options modal for subscribers
        async function showDownloadOptions(trackId) {
            const trackElement = document.querySelector(`[data-track-id="${trackId}"]`);
            if (!trackElement) return;
            
            // Get track info
            const titleElement = trackElement.querySelector('.track-title');
            let trackTitle = 'Track';
            if (titleElement) {
                trackTitle = titleElement.textContent.trim().replace(/\d+\s+versions?/i, '').trim();
            }
            
            // Set modal title
            document.getElementById('downloadOptionsTrackTitle').textContent = trackTitle;
            
            // Get base URL from stream URL
            const streamUrl = trackElement.getAttribute('data-stream-url');
            if (!streamUrl) return;
            
            // Extract base path and filename
            // Example: https://.../audio/primum-electronic/buck-moon-go-now/buck-moon-go-now-full-preview.mp3
            const urlParts = streamUrl.split('/');
            const filename = urlParts.pop(); // buck-moon-go-now-full-preview.mp3
            const folder = urlParts.pop(); // buck-moon-go-now
            const album = urlParts.pop(); // primum-electronic
            const basePath = urlParts.join('/'); // https://.../audio

            // Allow per-track download folder override (e.g. when audio/downloads use different album folders)
            const downloadAlbum = trackElement.getAttribute('data-download-album');
            const fixAlbum = (url) => downloadAlbum ? url.replace('/' + album + '/', '/' + downloadAlbum + '/') : url;
            
            // Remove -full-preview.mp3 or -preview.mp3 to get base name
            const baseName = filename.replace(/-full-preview\.mp3$/, '').replace(/-preview\.mp3$/, '');
            
            // Build download options
            const optionsList = document.getElementById('downloadOptionsList');
            optionsList.innerHTML = '';
            
            // Main track options
            const mainSection = document.createElement('div');
            mainSection.className = 'download-section';
            mainSection.innerHTML = '<h3 style="margin: 0 0 10px 0; font-size: 16px;">Main Track</h3>';
            
            // MP3 option (high quality from /downloads/)
            const mp3Btn = document.createElement('button');
            mp3Btn.className = 'download-option-btn';
            mp3Btn.textContent = '🎵 Download MP3';
            mp3Btn.onclick = () => {
                // Use downloads folder and remove -preview from filename
                const mp3Url = fixAlbum(streamUrl.replace('/audio/', '/downloads/').replace('-preview', ''));
                const mp3Filename = filename.replace('-preview', '');
                downloadFile(mp3Url, mp3Filename);
            };
            mainSection.appendChild(mp3Btn);
            
            // WAV option (full quality from /downloads/)
            const wavBtn = document.createElement('button');
            wavBtn.className = 'download-option-btn';
            wavBtn.textContent = '🎧 Download WAV (High Quality)';
            wavBtn.onclick = () => {
                // Convert MP3 URL to WAV URL: 
                // 1. Change /audio/ to /downloads/
                // 2. Remove -preview from filename
                // 3. Change .mp3 to .wav
                const wavUrl = fixAlbum(streamUrl.replace('/audio/', '/downloads/').replace('-preview', '').replace('.mp3', '.wav'));
                const wavFilename = filename.replace('-preview', '').replace('.mp3', '.wav');
                downloadFile(wavUrl, wavFilename);
            };
            mainSection.appendChild(wavBtn);
            
            optionsList.appendChild(mainSection);
            
            // Check if this track has alternates
            const trackGroup = trackElement.closest('.track-group');
            if (trackGroup) {
                const alternatesContainer = trackGroup.querySelector('.alternates-container');
                if (alternatesContainer) {
                    const alternates = alternatesContainer.querySelectorAll('.track-item.alternate');
                    
                    if (alternates.length > 0) {
                        const altSection = document.createElement('div');
                        altSection.className = 'download-section';
                        altSection.innerHTML = '<h3 style="margin: 20px 0 10px 0; font-size: 16px;">Alternate Versions</h3>';
                        
                        alternates.forEach(alt => {
                            const altTitle = alt.querySelector('.track-title')?.textContent.trim() || 'Alternate';
                            const altStreamUrl = alt.getAttribute('data-stream-url');
                            
                            if (altStreamUrl) {
                                const altFilename = altStreamUrl.split('/').pop();
                                
                                // Container for this alternate's options
                                const altDiv = document.createElement('div');
                                altDiv.style.marginBottom = '10px';
                                altDiv.innerHTML = `<p style="margin: 10px 0 5px 0; font-weight: 500;">${altTitle}</p>`;
                                
                                // MP3 - replace /audio/ with /downloads/ and remove -preview if present
                                const altMp3 = document.createElement('button');
                                altMp3.className = 'download-option-btn-small';
                                altMp3.textContent = 'MP3';
                                altMp3.onclick = () => {
                                    const altMp3Url = fixAlbum(altStreamUrl.replace('/audio/', '/downloads/').replace('-preview', ''));
                                    const altMp3Filename = altFilename.replace('-preview', '');
                                    downloadFile(altMp3Url, altMp3Filename);
                                };
                                altDiv.appendChild(altMp3);
                                
                                // WAV - replace /audio/ with /downloads/, remove -preview if present, and change .mp3 to .wav
                                const altWav = document.createElement('button');
                                altWav.className = 'download-option-btn-small';
                                altWav.textContent = 'WAV';
                                altWav.onclick = () => {
                                    const altWavUrl = fixAlbum(altStreamUrl.replace('/audio/', '/downloads/').replace('-preview', '').replace('.mp3', '.wav'));
                                    const altWavFilename = altFilename.replace('-preview', '').replace('.mp3', '.wav');
                                    downloadFile(altWavUrl, altWavFilename);
                                };
                                altDiv.appendChild(altWav);
                                
                                altSection.appendChild(altDiv);
                            }
                        });
                        
                        optionsList.appendChild(altSection);
                    }
                }
            }
            
            // Stems section
            const stemsSection = document.createElement('div');
            stemsSection.className = 'download-section';
            stemsSection.innerHTML = '<h3 style="margin: 20px 0 10px 0; font-size: 16px;">Stems</h3>';
            
            const stemsBtn = document.createElement('button');
            stemsBtn.className = 'download-option-btn';
            stemsBtn.textContent = '📦 Download All Stems (ZIP)';
            stemsBtn.onclick = () => downloadStems(basePath, album, folder, baseName);
            stemsSection.appendChild(stemsBtn);
            
            optionsList.appendChild(stemsSection);
            
            // Show modal
            const overlay = document.getElementById('downloadOptionsOverlay');
            const modal = document.getElementById('downloadOptionsModal');
            overlay.classList.add('visible');
            setTimeout(() => {
                modal.classList.add('visible');
            }, 10);
        }
        
        // Close download options modal
        function closeDownloadOptions() {
            const overlay = document.getElementById('downloadOptionsOverlay');
            const modal = document.getElementById('downloadOptionsModal');
            modal.classList.remove('visible');
            setTimeout(() => {
                overlay.classList.remove('visible');
            }, 300);
        }
        
        // Download a single file
        async function downloadFile(url, filename) {
            try {
                console.log('Requesting download for:', filename);
                
                // Get user's auth token
                const { data: { session } } = await supabaseClient.auth.getSession();
                if (!session) {
                    alert('Please log in to download files.');
                    return;
                }
                
                // Convert the R2 public URL to a file path
                // Example: https://pub-xxx.r2.dev/downloads/primum-electronic/track.wav
                // Extract: downloads/primum-electronic/track.wav
                const urlObj = new URL(url);
                const filePath = urlObj.pathname.substring(1); // Remove leading slash
                
                console.log('Requesting secure download URL for:', filePath);
                
                // Call our Netlify function to get a signed URL
                const response = await fetch('/.netlify/functions/download', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${session.access_token}`
                    },
                    body: JSON.stringify({ filePath })
                });
                
                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.error || 'Download failed');
                }
                
                const { downloadUrl } = await response.json();
                
                // Now download the file using the signed URL
                const fileResponse = await fetch(downloadUrl);
                if (!fileResponse.ok) {
                    throw new Error('Failed to download file');
                }
                
                const blob = await fileResponse.blob();
                const blobUrl = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = blobUrl;
                link.download = filename;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                setTimeout(() => URL.revokeObjectURL(blobUrl), 100);
                
                console.log('Download completed:', filename);
            } catch (error) {
                console.error('Download error:', error);
                alert('Download failed. Please try again.');
            }
        }
        
        // Download stems as ZIP
        async function downloadStems(basePath, album, folder, baseName) {
            console.log('Fetching stems for:', baseName);
            
            // Try all possible stem types we've seen across all tracks
            // Code will try to fetch each one, and only include stems that exist
            const allPossibleStems = [
                'bass',
                'drums',
                'leads',
                'synths-and-strings',
                'synth-chords',
                'synths-plucks',
                'vocals',
                'pianos-and-strings',
                'pianos',
                'guitars',
                'intro-sounds',
                'strings',
                'synth-leads',
                'keys',
                'vox-fx',
                'vox',
                'percussion',
                'fx',
                'pads',
                'arps',
                'brass',
                'woodwinds',
                'organ',
                'electric-piano',
                'acoustic-guitar',
                'electric-guitar',
                'synth-bass',
                'sub-bass',
                'kick',
                'snare',
                'hi-hats',
                'cymbals',
                'toms',
                'claps',
                'shakers',
                'tambourine'
            ];
            
            const stemUrls = allPossibleStems.map(stem => ({
                url: `${basePath}/downloads/${album}/${folder}/${baseName}-stems-${stem}.wav`,
                filename: `${baseName}-stems-${stem}.wav`
            }));
            
            // Load JSZip library if not already loaded
            if (typeof JSZip === 'undefined') {
                console.log('Loading ZIP library...');
                const script = document.createElement('script');
                script.src = 'https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js';
                script.onload = () => createAndDownloadZip(stemUrls, baseName);
                document.head.appendChild(script);
            } else {
                createAndDownloadZip(stemUrls, baseName);
            }
        }
        
        // Create ZIP file with stems
        async function createAndDownloadZip(stemUrls, baseName) {
            const zip = new JSZip();
            const stemsFolder = zip.folder('stems');
            
            console.log('Searching for stems...');
            
            // Show loading message
            const loadingMsg = document.createElement('div');
            loadingMsg.style.cssText = 'position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #1a1a1a; border: 1px solid #9c27b0; padding: 20px 40px; border-radius: 12px; z-index: 9999; color: white; font-size: 16px;';
            loadingMsg.textContent = 'Preparing stems download...';
            document.body.appendChild(loadingMsg);
            
            // Fetch all stem files
            let foundCount = 0;
            const fetchPromises = stemUrls.map(async ({url, filename}) => {
                try {
                    const response = await fetch(url);
                    if (response.ok) {
                        const blob = await response.blob();
                        stemsFolder.file(filename, blob);
                        foundCount++;
                        console.log('Added to ZIP:', filename);
                        return true;
                    }
                } catch (error) {
                    // Stem not found, skip silently
                }
                return false;
            });
            
            await Promise.all(fetchPromises);
            
            // Update message
            loadingMsg.textContent = `Creating ZIP with ${foundCount} stems...`;
            
            // Generate ZIP
            const content = await zip.generateAsync({type: 'blob'});
            
            // Remove loading message
            document.body.removeChild(loadingMsg);
            
            // Download ZIP
            const link = document.createElement('a');
            link.href = URL.createObjectURL(content);
            link.download = `${baseName}-stems.zip`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            console.log(`ZIP download started with ${foundCount} stems`);
        }
        
        // Add to cart from download modal
        function addToCartFromModal() {
            if (currentDownloadTrackInfo) {
                // Check if already in cart
                const existingItem = cart.find(item => item.id === currentDownloadTrackInfo.id);
                if (existingItem) {
                    alert('This track is already in your cart!');
                    closeDownloadPrompt();
                    return;
                }
                
                // Add to cart with default Individual license
                cart.push({
                    id: currentDownloadTrackInfo.id,
                    title: currentDownloadTrackInfo.title,
                    artist: currentDownloadTrackInfo.artist,
                    license: 'individual',
                    price: 10
                });
                
                updateCartCount();
                closeDownloadPrompt();
                
                // Optionally open the cart to show the added item
                setTimeout(() => {
                    openCart();
                }, 300);
            }
        }
        
        // Check if user is logged in
        async function isUserLoggedIn() {
            try {
                if (!supabaseClient) {
                    console.log('Supabase client not initialized yet');
                    return false;
                }
                const { data: { session } } = await supabaseClient.auth.getSession();
                console.log('Session check:', session ? 'Logged in' : 'Not logged in');
                return session !== null && session.user !== null;
            } catch (error) {
                console.error('Error checking auth status:', error);
                return false;
            }
        }
        
        // Show login prompt modal
        function showLoginPrompt(action) {
            const message = `Create a free account to ${action}!`;
            const shouldSignUp = confirm(`${message}\n\nClick OK to create an account, or Cancel to go back.`);
            
            if (shouldSignUp) {
                window.location.href = '/signup.html';
            }
        }
        
        // Like/Love Track Function
        let likedTracks = JSON.parse(localStorage.getItem('likedTracks') || '[]');
        
        async function toggleLike(event, trackId) {
            event.stopPropagation();
            
            // Check if user is logged in
            const loggedIn = await isUserLoggedIn();
            if (!loggedIn) {
                showLoginPrompt('like tracks');
                return;
            }
            
            // Use the new favorites system
            toggleFavorite(trackId);
        }
        
        // Playlist Menu Functionality
        
        // Initialize like buttons on page load
        document.addEventListener('DOMContentLoaded', function() {
            likedTracks.forEach(trackId => {
                const buttons = document.querySelectorAll(`[onclick*="toggleLike(event, ${trackId})"]`);
                buttons.forEach(btn => {
                    btn.classList.add('liked');
                    btn.textContent = '♥';
                });
            });
        });
        
        // Close playlist menu when clicking outside
        document.addEventListener('click', function(e) {
            if (currentPlaylistMenu && !e.target.closest('.playlist-menu') && !e.target.closest('.action-btn-playlist')) {
                currentPlaylistMenu.remove();
                currentPlaylistMenu = null;
            }
        });
        
        
        // Toggle mobile menu
        // Search functionality
        function searchTracks() {
            const searchInput = document.getElementById('searchInput');
            const searchTerm = searchInput.value.toLowerCase().trim();
            const trackGroups = document.querySelectorAll('.track-group');
            
            trackGroups.forEach(group => {
                const mainTrack = group.querySelector('.track-item.main-track');
                if (!mainTrack) return;
                
                // Get track details
                const title = mainTrack.querySelector('.track-title')?.textContent.toLowerCase() || '';
                const genre = mainTrack.querySelector('.track-genre')?.textContent.toLowerCase() || '';
                const bpm = mainTrack.querySelector('.track-bpm')?.textContent.toLowerCase() || '';
                const description = mainTrack.getAttribute('data-description')?.toLowerCase() || '';
                
                // Get new metadata tags
                const useCases = mainTrack.getAttribute('data-use-cases')?.toLowerCase() || '';
                const moods = mainTrack.getAttribute('data-moods')?.toLowerCase() || '';
                const similarArtists = mainTrack.getAttribute('data-similar-artists')?.toLowerCase() || '';
                const energy = mainTrack.getAttribute('data-energy')?.toLowerCase() || '';
                const bestMoments = mainTrack.getAttribute('data-best-moments')?.toLowerCase() || '';
                
                // Combine all searchable text including natural language metadata
                const searchableText = `${title} ${genre} ${bpm} ${description} ${useCases} ${moods} ${similarArtists} ${energy} ${bestMoments}`;
                
                // Show or hide based on search match
                if (searchTerm === '' || searchableText.includes(searchTerm)) {
                    group.style.display = '';
                } else {
                    group.style.display = 'none';
                }
            });
        }
        
        function toggleMobileMenu() {
            const panel = document.getElementById('mobilePanel');
            const overlay = document.getElementById('mobilePanelOverlay');
            const toggle = document.getElementById('mobileMenuToggle');
            const isOpen = panel.classList.contains('open');
            if (isOpen) {
                closeMobilePanel();
            } else {
                panel.classList.add('open');
                overlay.classList.add('active');
                toggle.textContent = '✕';
                document.body.style.overflow = 'hidden';
            }
        }

        function closeMobilePanel() {
            const panel = document.getElementById('mobilePanel');
            const overlay = document.getElementById('mobilePanelOverlay');
            const toggle = document.getElementById('mobileMenuToggle');
            panel.classList.remove('open');
            overlay.classList.remove('active');
            toggle.textContent = '☰';
            document.body.style.overflow = '';
        }

        function togglePanelSection(section) {
            const submenu = document.getElementById(section + 'Submenu');
            const btn = document.getElementById(section + 'Btn');
            submenu.classList.toggle('open');
            btn.classList.toggle('open');
        }

        // Update mobile panel auth state to match desktop
        function updateMobilePanelAuth(isLoggedIn) {
            const accountBtn = document.getElementById('accountBtn');
            const authBtns = document.getElementById('mobilePanelAuthBtns');
            if (accountBtn) accountBtn.style.display = isLoggedIn ? 'flex' : 'none';
            if (authBtns) authBtns.style.display = isLoggedIn ? 'none' : 'flex';
        }
        
        // Mobile filter modal functions
        function openFilterModal() {
            const modal = document.getElementById('filterModal');
            const overlay = document.getElementById('filterModalOverlay');
            const modalBody = document.getElementById('filterModalBody');
            
            // Clone filter content from sidebar to modal (only once)
            if (modalBody.children.length === 0) {
                const filterPanel = document.querySelector('.filter-panel');
                const clone = filterPanel.cloneNode(true);
                // Remove the clear button from cloned content (we have it in footer)
                const clearBtn = clone.querySelector('.clear-filters');
                if (clearBtn) clearBtn.remove();
                const filterHeader = clone.querySelector('.filter-header');
                if (filterHeader) filterHeader.remove();
                modalBody.appendChild(clone);
            }
            
            overlay.classList.add('visible');
            modal.classList.add('open');
            document.body.style.overflow = 'hidden';
        }
        
        function closeFilterModal() {
            const modal = document.getElementById('filterModal');
            const overlay = document.getElementById('filterModalOverlay');
            
            modal.classList.remove('open');
            overlay.classList.remove('visible');
            document.body.style.overflow = 'auto';
        }
        
        // Toggle sidebar on mobile (legacy - now using modal)
        function toggleSidebar() {
            openFilterModal();
        }
    </script>
    <script>
        // Global Supabase client
        let supabaseClient = null;
        
        // Manual OAuth Callback Handler
        async function handleOAuthCallback() {
            const hash = window.location.hash;
            console.log('🔍 Checking for OAuth callback. Hash:', hash);
            
            if (!hash || !hash.includes('access_token')) {
                console.log('No OAuth tokens found in URL');
                return false;
            }
            
            console.log('📱 OAuth callback detected, processing tokens...');
            
            // Parse hash parameters
            const params = new URLSearchParams(hash.substring(1));
            const access_token = params.get('access_token');
            const refresh_token = params.get('refresh_token');
            
            console.log('Tokens found:', { 
                hasAccessToken: !!access_token, 
                hasRefreshToken: !!refresh_token 
            });
            
            if (!access_token || !refresh_token) {
                console.error('❌ Missing tokens in OAuth callback');
                console.error('Access token:', access_token ? 'present' : 'missing');
                console.error('Refresh token:', refresh_token ? 'present' : 'missing');
                return false;
            }
            
            try {
                const SUPABASE_URL = 'https://pfqvrxfazumlydjepwib.supabase.co';
                const SUPABASE_ANON_KEY = 'sb_publishable_1oBqgAQj0xzb5-eosyfcBg_9dKxNZfa';
                const supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
                
                console.log('Setting session with tokens...');
                const { data, error } = await supabaseClient.auth.setSession({
                    access_token: access_token,
                    refresh_token: refresh_token
                });
                
                if (error) {
                    console.error('❌ Error setting session:', error);
                    alert('Authentication error: ' + error.message);
                    return false;
                }
                
                console.log('✅ Session set successfully! User:', data.user?.email);
                
                // Clean up URL
                window.history.replaceState(null, '', window.location.pathname);
                
                // Force a UI update
                await new Promise(resolve => setTimeout(resolve, 100));
                
                return true;
            } catch (err) {
                console.error('❌ OAuth callback error:', err);
                alert('OAuth error: ' + err.message);
                return false;
            }
        }

        // Wait for Supabase to load, then initialize
        // Favorites Management
        let favorites = [];
        
        function loadFavorites() {
            const saved = localStorage.getItem('readysounds_favorites');
            favorites = saved ? JSON.parse(saved) : [];
            updateHeartIcons();
        }
        
        function saveFavorites() {
            localStorage.setItem('readysounds_favorites', JSON.stringify(favorites));
        }
        
        function toggleFavorite(trackId) {
            console.log('toggleFavorite called with trackId:', trackId);
            const index = favorites.indexOf(trackId);
            if (index > -1) {
                favorites.splice(index, 1);
                console.log('Removed from favorites:', trackId);
            } else {
                favorites.push(trackId);
                console.log('Added to favorites:', trackId);
            }
            saveFavorites();
            updateHeartIcons();
            console.log('Current favorites:', favorites);
        }
        
        function updateHeartIcons() {
            // Update all heart buttons to show filled/unfilled state
            document.querySelectorAll('.action-btn-like').forEach(btn => {
                const trackId = parseInt(btn.getAttribute('data-track-id') || btn.getAttribute('onclick')?.match(/\d+/)?.[0]);
                if (trackId && favorites.includes(trackId)) {
                    btn.textContent = '❤️';
                    btn.style.color = '#9c27b0';
                } else {
                    btn.textContent = '🤍';
                    btn.style.color = '';
                }
            });
        }
        
        function showFavorites() {
            // Close profile dropdown
            document.getElementById('profileDropdown').classList.remove('active');
            
            // Hide main content, show favorites view
            document.querySelector('.main-content').style.display = 'none';
            
            // Create or show favorites view
            let favView = document.getElementById('favoritesView');
            if (!favView) {
                favView = document.createElement('div');
                favView.id = 'favoritesView';
                favView.innerHTML = `
                    <div style="max-width: 1400px; margin: 100px auto 40px; padding: 0 24px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 32px;">
                            <div>
                                <h1 style="font-size: 2.5em; margin-bottom: 8px; background: linear-gradient(135deg, #9c27b0, #4a148c); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">❤️ Favorites</h1>
                                <p style="color: #888; font-size: 1.1em;">Your liked tracks</p>
                            </div>
                            <button onclick="closeFavorites()" style="background: rgba(156, 39, 176, 0.2); border: 1px solid rgba(156, 39, 176, 0.3); color: white; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-size: 1em;">Back to Browse</button>
                        </div>
                        <div id="favoritesTrackList"></div>
                    </div>
                `;
                document.body.appendChild(favView);
            }
            
            // Populate favorites
            const trackList = favView.querySelector('#favoritesTrackList');
            if (favorites.length === 0) {
                trackList.innerHTML = '<p style="text-align: center; color: #666; font-size: 1.2em; padding: 60px;">You have no favorite songs!</p>';
            } else {
                const trackGroups = document.querySelectorAll('.track-group');
                let html = '<div class="track-list" style="background: rgba(26, 26, 26, 0.5); border-radius: 12px; padding: 20px;">';
                
                favorites.forEach(favId => {
                    trackGroups.forEach(group => {
                        const mainTrack = group.querySelector('.track-item.main-track');
                        const trackId = mainTrack?.getAttribute('data-track-id');
                        if (parseInt(trackId) === favId) {
                            const title = mainTrack.querySelector('.track-title')?.textContent || '';
                            const genre = mainTrack.querySelector('.track-genre')?.textContent || '';
                            const bpm = mainTrack.querySelector('.track-bpm')?.textContent || '';
                            const duration = mainTrack.querySelector('.track-duration')?.textContent || '';
                            const streamUrl = mainTrack.getAttribute('data-stream-url');
                            
                            html += `
                                <div class="track-item" style="margin-bottom: 12px; background: rgba(26, 26, 26, 0.8); padding: 16px; border-radius: 8px; display: flex; align-items: center; gap: 16px;">
                                    <button onclick="playTrack(event, ${trackId})" style="width: 40px; height: 40px; border-radius: 50%; background: #9c27b0; border: none; color: white; cursor: pointer; font-size: 18px;">▶</button>
                                    <div style="flex: 1;">
                                        <div style="font-weight: 600; margin-bottom: 4px;">${title}</div>
                                        <div style="color: #888; font-size: 0.9em;">${genre} · ${bpm} BPM · ${duration}</div>
                                    </div>
                                    <button onclick="toggleFavorite(${trackId})" style="background: none; border: none; cursor: pointer; font-size: 24px;">❤️</button>
                                </div>
                            `;
                        }
                    });
                });
                
                html += '</div>';
                trackList.innerHTML = html;
            }
            
            favView.style.display = 'block';
        }
        
        function closeFavorites() {
            document.getElementById('favoritesView')?.remove();
            document.querySelector('.main-content').style.display = 'block';
        }
        
        // Profile Dropdown Toggle
        function toggleProfileDropdown() {
            const dropdown = document.getElementById('profileDropdown');
            dropdown.classList.toggle('active');
        }
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const profileContainer = document.getElementById('profileContainer');
            const dropdown = document.getElementById('profileDropdown');
            if (profileContainer && dropdown && !profileContainer.contains(event.target)) {
                dropdown.classList.remove('active');
            }
        });
        
        // Handle Logout
        async function handleLogout() {
            if (supabaseClient) {
                const { error } = await supabaseClient.auth.signOut();
                if (error) {
                    console.error('Logout error:', error);
                } else {
                    // Clear favorites
                    favorites = [];
                    localStorage.removeItem('readysounds_favorites');
                    window.location.reload();
                }
            }
        }

        async function initAuth() {
            // First, handle OAuth callback if present
            if (typeof window.supabase !== 'undefined') {
                await handleOAuthCallback();
            }
            if (typeof window.supabase === 'undefined') {
                console.log('Waiting for Supabase to load...');
                setTimeout(initAuth, 100);
                return;
            }

            // Initialize Supabase
            const SUPABASE_URL = 'https://pfqvrxfazumlydjepwib.supabase.co';
            const SUPABASE_ANON_KEY = 'sb_publishable_1oBqgAQj0xzb5-eosyfcBg_9dKxNZfa';
            supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

            // Check authentication status
            async function checkAuth() {
                const { data: { session } } = await supabaseClient.auth.getSession();
                
                const loginBtn = document.getElementById('loginBtn');
                const signupBtn = document.getElementById('signupBtn');
                const authButtons = document.getElementById('authButtons');
                const profileContainer = document.getElementById('profileContainer');
                const profileInitial = document.getElementById('profileInitial');
                
                if (session && session.user) {
                    // User is logged in - show profile dropdown
                    if (authButtons) authButtons.style.display = 'none';
                    if (profileContainer) profileContainer.style.display = 'block';
                    updateMobilePanelAuth(true);
                    
                    // Set profile initial (first letter of email)
                    if (profileInitial && session.user.email) {
                        profileInitial.textContent = session.user.email.charAt(0).toUpperCase();
                    }
                    
                    console.log('User logged in:', session.user.email);
                    
                    // Load favorites from localStorage
                    loadFavorites();
                    
                    // Load user playlists from Supabase
                    await loadUserPlaylists();
                    
                    // Check subscription status and hide cart buttons if active
                    const hasSubscription = await hasActiveSubscription();
                    if (hasSubscription) {
                        // Hide all cart buttons
                        const cartButtons = document.querySelectorAll('.action-btn-primary');
                        cartButtons.forEach(btn => {
                            btn.style.display = 'none';
                        });
                        console.log('Cart buttons hidden for subscribed user');
                    }
                } else {
                    // User is not logged in - show login buttons
                    if (authButtons) authButtons.style.display = 'flex';
                    if (profileContainer) profileContainer.style.display = 'none';
                    updateMobilePanelAuth(false);
                }
            }

            // Check auth on page load
            checkAuth();

            // Listen for auth changes
            supabaseClient.auth.onAuthStateChange((event, session) => {
                console.log('Auth state changed:', event);
                // Handle all auth state changes including INITIAL_SESSION (after OAuth redirect)
                if (event === 'SIGNED_IN' || event === 'SIGNED_OUT' || event === 'INITIAL_SESSION') {
                    checkAuth();
                }
            });
        }

        // Auto-play track if coming from playlist link
        function handleTrackAutoPlay() {
            const hash = window.location.hash;
            if (hash && hash.startsWith('#track-')) {
                const trackId = parseInt(hash.replace('#track-', ''));
                if (trackId) {
                    console.log('Auto-playing track from hash:', trackId);
                    // Wait a moment for DOM to be ready
                    setTimeout(() => {
                        const trackButton = document.querySelector(`[data-track-id="${trackId}"]`);
                        if (trackButton) {
                            // Scroll to track
                            trackButton.closest('.track-group')?.scrollIntoView({ behavior: 'smooth', block: 'center' });
                            // Play the track
                            playTrack(null, trackId);
                        }
                    }, 500);
                }
            }
        }

        // Start initialization when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                initAuth();
                handleTrackAutoPlay();
            });
        } else {
            initAuth();
            handleTrackAutoPlay();
        }
    </script>
</body>
</html>
